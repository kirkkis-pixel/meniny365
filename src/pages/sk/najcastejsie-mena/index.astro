---
import Layout from '../../../layouts/Layout.astro';
import SectionHeader from '../../../components/SectionHeader.astro';
import Card from '../../../components/Card.astro';
import PillTabs from '../../../components/PillTabs.astro';
import { formatRank, toSlug } from '../../../lib/visuals.js';

// Sample data for now
const popularData = {
  year: 2025,
  topMale: [
    { name: "Adam", rank: 1, count: 1247 },
    { name: "Jakub", rank: 2, count: 1189 },
    { name: "Samuel", rank: 3, count: 1156 },
    { name: "Oliver", rank: 4, count: 1098 },
    { name: "Liam", rank: 5, count: 1045 }
  ],
  topFemale: [
    { name: "Emma", rank: 1, count: 1156 },
    { name: "Sofia", rank: 2, count: 1098 },
    { name: "Nina", rank: 3, count: 1045 },
    { name: "Lily", rank: 4, count: 987 },
    { name: "Ema", rank: 5, count: 923 }
  ],
  source: "https://sk.wikipedia.org/wiki/Najčastejšie_mená_na_Slovensku",
  lastUpdated: new Date().toISOString()
};
---

<Layout 
  title="Najčastejšie slovenské mená 2025 | meniny365"
  description="Zoznam najčastejších mužských a ženských mien na Slovensku v roku 2025."
>
  <div class="min-h-screen bg-gradient-to-br from-slate-50/95 via-white to-indigo-50/40">
    <div class="container mx-auto px-4 py-16">
      <div class="max-w-4xl mx-auto">
        <SectionHeader
          eyebrow="Štatistiky"
          title="Najčastejšie mená 2025"
          subtitle="Zoznam najpopulárnejších mužských a ženských mien na Slovensku"
        />

        <div class="mb-8">
          <PillTabs
            tabs={[
              { id: "female", label: "Dievčatá", href: "#dievcata" },
              { id: "male", label: "Chlapci", href: "#chlapci" }
            ]}
            activeTab="female"
          />
        </div>

        <!-- Female Names Table -->
        <div id="dievcata" class="mb-12">
          <Card>
            <div class="overflow-x-auto">
              <table class="w-full">
                <thead>
                  <tr class="border-b border-slate-200">
                    <th class="text-left py-3 px-4 text-sm font-semibold text-slate-600">Poradie</th>
                    <th class="text-left py-3 px-4 text-sm font-semibold text-slate-600">Meno</th>
                    <th class="text-left py-3 px-4 text-sm font-semibold text-slate-600">Počet</th>
                    <th class="text-left py-3 px-4 text-sm font-semibold text-slate-600">Meniny</th>
                  </tr>
                </thead>
                <tbody class="divide-y divide-slate-100">
                  {popularData.topFemale.map((name: any) => (
                    <tr class="hover:bg-slate-50/50 transition-colors">
                      <td class="py-4 px-4 text-sm font-medium text-slate-900">
                        {formatRank(name.rank)}
                      </td>
                      <td class="py-4 px-4">
                        <span class="text-lg font-semibold text-slate-900">{name.name}</span>
                      </td>
                      <td class="py-4 px-4 text-sm text-slate-600">
                        {name.count ? name.count.toLocaleString() : '—'}
                      </td>
                      <td class="py-4 px-4">
                        <a 
                          href={`/sk/meno/${toSlug(name.name)}`}
                          class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-indigo-100 text-indigo-800 hover:bg-indigo-200 transition-colors"
                        >
                          Pozri meniny
                        </a>
                      </td>
                    </tr>
                  ))}
                </tbody>
              </table>
            </div>
          </Card>
        </div>

        <!-- Male Names Table -->
        <div id="chlapci" class="mb-12" style="display: none;">
          <Card>
            <div class="overflow-x-auto">
              <table class="w-full">
                <thead>
                  <tr class="border-b border-slate-200">
                    <th class="text-left py-3 px-4 text-sm font-semibold text-slate-600">Poradie</th>
                    <th class="text-left py-3 px-4 text-sm font-semibold text-slate-600">Meno</th>
                    <th class="text-left py-3 px-4 text-sm font-semibold text-slate-600">Počet</th>
                    <th class="text-left py-3 px-4 text-sm font-semibold text-slate-600">Meniny</th>
                  </tr>
                </thead>
                <tbody class="divide-y divide-slate-100">
                  {popularData.topMale.map((name: any) => (
                    <tr class="hover:bg-slate-50/50 transition-colors">
                      <td class="py-4 px-4 text-sm font-medium text-slate-900">
                        {formatRank(name.rank)}
                      </td>
                      <td class="py-4 px-4">
                        <span class="text-lg font-semibold text-slate-900">{name.name}</span>
                      </td>
                      <td class="py-4 px-4 text-sm text-slate-600">
                        {name.count ? name.count.toLocaleString() : '—'}
                      </td>
                      <td class="py-4 px-4">
                        <a 
                          href={`/sk/meno/${toSlug(name.name)}`}
                          class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-indigo-100 text-indigo-800 hover:bg-indigo-200 transition-colors"
                        >
                          Pozri meniny
                        </a>
                      </td>
                    </tr>
                  ))}
                </tbody>
              </table>
            </div>
          </Card>
        </div>

        <!-- Attribution -->
        <div class="text-center">
          <p class="text-sm text-slate-500">
            Zdroj: <a href={popularData.source} class="text-indigo-600 hover:text-indigo-700" target="_blank" rel="noopener">Wikipedia</a> / verejné údaje
          </p>
        </div>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const tabs = document.querySelectorAll('[role="tab"]');
      const panels = document.querySelectorAll('[id$="ata"], [id$="ci"]');
      
      tabs.forEach(tab => {
        tab.addEventListener('click', (e) => {
          e.preventDefault();
          
          tabs.forEach(t => t.setAttribute('aria-selected', 'false'));
          tab.setAttribute('aria-selected', 'true');
          
          panels.forEach(panel => panel.style.display = 'none');
          
          const targetId = tab.getAttribute('href')?.substring(1);
          const targetPanel = document.getElementById(targetId);
          if (targetPanel) {
            targetPanel.style.display = 'block';
          }
        });
      });
    });
  </script>
</Layout>
