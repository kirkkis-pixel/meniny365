---
import Layout from '../../layouts/Layout.astro';
import { getTodayString, formatDateSlovak } from '../../lib/date';
import { getNamesByDate } from '../../lib/meniny';
import { toSlug } from '../../lib/slug';
import { generateHomePageSEO } from '../../lib/seo.ts';
import meninyData from '../../data/meniny-sk/meniny-2025-simple.json';
import ECardMaker from '../../components/ECardMaker.astro';


// Get today's date and names
const today = getTodayString();
const todayNames = getNamesByDate(today);
const todayFormatted = formatDateSlovak(today);

// Generate SEO data
const seoData = generateHomePageSEO();
---

<Layout 
  title={seoData.title}
  description={seoData.description}
  canonical={seoData.canonical}
  keywords={seoData.keywords}
  structuredData={seoData.structuredData}
>
  <!-- Hero Section - Clean Minimal Style -->
  <section class="relative pt-14 sm:pt-24 pb-40 overflow-hidden hero-section">
    <div class="container relative z-10 text-center max-w-4xl">
      <!-- NEW Badge -->
      <div class="inline-flex items-center bg-gradient-to-r from-slate-100 to-indigo-100 rounded-full px-3 sm:px-4 py-2 mb-6 sm:mb-8 animate-fade-in-up shadow-sm">                                                                  
        <span class="bg-gradient-to-r from-indigo-600 to-purple-600 text-white text-xs font-medium px-3 py-1 rounded-full mr-3 flex items-center">
          <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 24 24">
            <path d="M12 2l2.09 6.26L20 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
          </svg>
          NOVÝ
        </span>   
        <span class="text-slate-700 font-medium" style="font-size: clamp(0.75rem, 3.5vw, 0.875rem); line-height: 1.4;">Prvý inteligentný kalendár menín na Slovensku</span>                                             
      </div>
      
      <!-- Main Heading - Mobile First -->
      <h1 
        class="font-bold text-black mb-8 md:mb-12 leading-tight animate-fade-in-up px-4" 
        style="animation-delay: 0.2s; font-size: clamp(2rem, 8vw, 4rem); line-height: 1.1;"
      >
        Kto má dnes meniny?
      </h1>
      
          <!-- Today's Names Display - Super Clear & Focused -->
          <div class="rounded-2xl p-8 sm:p-10 md:p-16 max-w-2xl mx-auto mb-12 md:mb-20 animate-fade-in-up shadow-lg border border-slate-200/50 mx-4 card-section" style="animation-delay: 0.8s;">
            <div class="text-center">
              <h2 class="text-xl sm:text-2xl font-semibold text-black mb-8 md:mb-10">{todayFormatted}</h2>
              
              {todayNames.length > 0 ? (
                <div>
                  <div class="flex flex-wrap justify-center gap-3 sm:gap-4 mb-8 md:mb-10">
                    {todayNames.map(name => (
                      <a 
                        href={`/sk/meno/${toSlug(name)}`}
                        class="group bg-gradient-to-r from-white to-indigo-50 text-slate-800 rounded-full font-semibold hover:from-indigo-50 hover:to-indigo-100 transition-all duration-300 border border-indigo-200/50 shadow-md hover:shadow-lg hover:scale-105 relative overflow-hidden"
                        style="background: linear-gradient(90deg, #ffffff 0%, #e0e7ff 100%); font-size: clamp(0.875rem, 4vw, 1.125rem); padding: 1rem 1.5rem; line-height: 1.2;"
                      >
                        <div class="flex items-center">
                          <span class="mr-2">{name}</span>
                          <svg class="w-4 h-4 opacity-60 group-hover:opacity-100 group-hover:translate-x-1 transition-all duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                          </svg>
                        </div>
                        <!-- Subtle shine effect on hover -->
                        <div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-700"></div>
                      </a>
                    ))}
                  </div>
                  
                  <!-- CTA Buttons -->
                  <div class="flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center">
                    <a 
                      href="/sk/darceky" 
                      class="inline-flex items-center justify-center bg-gradient-to-r from-slate-800 to-slate-900 text-white rounded-xl font-medium hover:from-slate-900 hover:to-black transition-all duration-200 transform hover:scale-105 shadow-lg border border-slate-700/50"
                      style="font-size: clamp(0.875rem, 4vw, 1rem); padding: 1rem 2rem; line-height: 1.2;"
                    >
                      <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>
                      </svg>
                      Generovať darčeky
                    </a>
                    
                    <a 
                      href="/sk/pohladnice" 
                      class="inline-flex items-center justify-center bg-gradient-to-r from-slate-800 to-slate-900 text-white rounded-xl font-medium hover:from-slate-900 hover:to-black transition-all duration-200 transform hover:scale-105 shadow-lg border border-slate-700/50"
                      style="font-size: clamp(0.875rem, 4vw, 1rem); padding: 1rem 2rem; line-height: 1.2;"
                    >
                      <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                      </svg>
                      Vytvoriť pohľadnicu
                    </a>
                  </div>
                </div>
              ) : (
                <div>
                  <p class="text-base sm:text-lg text-gray-700">
                    Dnes nemá nikto meniny. Skúste pozrieť iný deň v kalendári.
                  </p>
                </div>
              )}
            </div>
          </div>
      
      <!-- Features Section Between Today's Names and Calendar -->
    <section class="relative pt-6 sm:pt-8 pb-16 sm:pb-24">
      <div class="container relative z-10 mx-auto px-4">
          <div class="text-center">
            <!-- Four Feature Items - Mobile Optimized -->
            <div class="flex flex-wrap justify-center items-center gap-6 sm:gap-4 md:gap-6 lg:gap-8">                                                           
              <!-- Actual Data -->
              <div class="flex items-center gap-3 text-slate-500 hover:text-slate-700 transition-colors justify-center sm:justify-start p-3 sm:p-0" style="font-size: clamp(0.75rem, 3.5vw, 0.875rem); line-height: 1.3;">                                
                <div class="text-slate-500" style="width: clamp(1rem, 4vw, 1.25rem); height: clamp(1rem, 4vw, 1.25rem); flex-shrink: 0;">      
                  <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" style="width: clamp(1rem, 4vw, 1.25rem); height: clamp(1rem, 4vw, 1.25rem);">                                      
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>                                                         
                  </svg>
                </div>
                <span class="font-medium">Aktuálne dáta</span>                                                                 
              </div>
              
              <!-- 100% Free -->
              <div class="flex items-center gap-3 sm:gap-3 text-slate-500 hover:text-slate-700 transition-colors justify-center sm:justify-start p-3 sm:p-0" style="font-size: clamp(0.75rem, 3.5vw, 0.875rem);">                                
                <div class="w-5 h-5 sm:w-5 sm:h-5 text-slate-500" style="width: clamp(1rem, 4vw, 1.25rem); height: clamp(1rem, 4vw, 1.25rem);">      
                  <svg class="w-5 h-5 sm:w-5 sm:h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="width: clamp(1rem, 4vw, 1.25rem); height: clamp(1rem, 4vw, 1.25rem);">                                      
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>                                                                  
                  </svg>
                </div>
                <span class="text-sm sm:text-sm font-medium">100% Zdarma</span>                                                                   
              </div>
              
              <!-- Gift Recommendations -->
              <div class="flex items-center gap-3 sm:gap-3 text-slate-500 hover:text-slate-700 transition-colors justify-center sm:justify-start p-3 sm:p-0" style="font-size: clamp(0.75rem, 3.5vw, 0.875rem);">                                
                <div class="w-5 h-5 sm:w-5 sm:h-5 text-slate-500" style="width: clamp(1rem, 4vw, 1.25rem); height: clamp(1rem, 4vw, 1.25rem);">        
                  <svg class="w-5 h-5 sm:w-5 sm:h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="width: clamp(1rem, 4vw, 1.25rem); height: clamp(1rem, 4vw, 1.25rem);">                                      
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"></path>                                            
                  </svg>
                </div>
                <span class="text-sm sm:text-sm font-medium">Návrhy darčekov</span>                                                               
              </div>
              
              <!-- Personalized Greeting Cards -->
              <div class="flex items-center gap-3 sm:gap-3 text-slate-500 hover:text-slate-700 transition-colors justify-center sm:justify-start p-3 sm:p-0" style="font-size: clamp(0.75rem, 3.5vw, 0.875rem);">                                
                <div class="w-5 h-5 sm:w-5 sm:h-5 text-slate-500" style="width: clamp(1rem, 4vw, 1.25rem); height: clamp(1rem, 4vw, 1.25rem);">          
                  <svg class="w-5 h-5 sm:w-5 sm:h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="width: clamp(1rem, 4vw, 1.25rem); height: clamp(1rem, 4vw, 1.25rem);">                                      
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>                             
                  </svg>
                </div>
                <span class="text-sm sm:text-sm font-medium">Osobné pohľadnice</span>                                                             
              </div>
            </div>
          </div>
        </div>
      </section>
      
      <!-- Premium Calendar View - Mobile Optimized -->
      <div class="w-full animate-fade-in-up px-4 mobile-calendar-section" style="animation-delay: 1.2s;">
        <!-- Mobile Calendar View - Vertical Scrollable -->
        <div class="block md:hidden">
          <div class="bg-white rounded-2xl shadow-lg border border-slate-200/50 overflow-hidden" style="background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);">
            <!-- Calendar Header -->
            <div class="bg-gradient-to-r from-slate-800 via-slate-900 to-slate-800 text-white px-4 py-4 flex items-center justify-between">
              <div class="flex items-center space-x-2">
                <button class="p-2 bg-white/15 hover:bg-white/25 rounded-xl transition-all duration-200" id="prevMonthMobile">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="15,18 9,12 15,6"></polyline>
                  </svg>
                </button>
                <button class="p-2 bg-white/15 hover:bg-white/25 rounded-xl transition-all duration-200" id="nextMonthMobile">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="9,18 15,12 9,6"></polyline>
                  </svg>
                </button>
              </div>
              <h3 class="text-lg font-bold" id="calendarTitleMobile">Január 2025</h3>
              <div class="w-8"></div> <!-- Spacer for centering -->
            </div>
            
            <!-- Mobile Calendar Days - All Days Visible -->
            <div id="mobileCalendarGrid" class="divide-y divide-slate-200">
              <!-- All days will be populated by JavaScript -->
            </div>
          </div>
        </div>

        <!-- Desktop Calendar View -->
        <div class="hidden md:block">
          <div class="bg-gradient-to-br from-white to-slate-50/50 rounded-3xl shadow-xl border border-slate-200/50 overflow-hidden">
            <!-- Calendar Header -->
            <div class="bg-gradient-to-r from-slate-800 via-slate-900 to-slate-800 text-white px-8 py-6 flex items-center justify-between rounded-t-3xl">
              <div class="flex items-center space-x-3">
                <button class="p-3 bg-white/15 hover:bg-white/25 rounded-2xl transition-all duration-200 hover:scale-105" id="prevMonth">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="15,18 9,12 15,6"></polyline>
                  </svg>
                </button>
                <button class="p-3 bg-white/15 hover:bg-white/25 rounded-2xl transition-all duration-200 hover:scale-105" id="nextMonth">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="9,18 15,12 9,6"></polyline>
                  </svg>
                </button>
              </div>
              <h3 class="text-2xl font-bold" id="calendarTitle">Január 2025</h3>
              <div class="relative">
                <input 
                  type="text" 
                  id="calendarSearch" 
                  placeholder="Vyhľadať meno..." 
                  class="px-4 py-3 bg-white/10 text-white placeholder-white/60 rounded-2xl focus:outline-none focus:ring-2 focus:ring-white/20 focus:bg-white/15 transition-all duration-200 w-64 border border-white/10"
                >
                <div class="absolute right-3 top-1/2 transform -translate-y-1/2">
                  <svg class="w-5 h-5 text-white/70" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                  </svg>
                </div>
                <div id="calendarSearchResults" class="absolute top-full left-0 right-0 mt-2 bg-white rounded-2xl shadow-xl border border-slate-200/50 max-h-64 overflow-y-auto z-50 hidden">
                  <!-- Search results will appear here -->
                </div>
              </div>
            </div>
            
            <!-- Calendar Grid -->
            <div class="p-6">
              <!-- Day Headers -->
              <div class="grid grid-cols-7 gap-2 mb-4">
                <div class="text-center py-3 font-semibold text-slate-600 text-sm uppercase tracking-wider bg-slate-50 rounded-xl">Po</div>
                <div class="text-center py-3 font-semibold text-slate-600 text-sm uppercase tracking-wider bg-slate-50 rounded-xl">Ut</div>
                <div class="text-center py-3 font-semibold text-slate-600 text-sm uppercase tracking-wider bg-slate-50 rounded-xl">St</div>
                <div class="text-center py-3 font-semibold text-slate-600 text-sm uppercase tracking-wider bg-slate-50 rounded-xl">Št</div>
                <div class="text-center py-3 font-semibold text-slate-600 text-sm uppercase tracking-wider bg-slate-50 rounded-xl">Pia</div>
                <div class="text-center py-3 font-semibold text-slate-600 text-sm uppercase tracking-wider bg-slate-50 rounded-xl">So</div>
                <div class="text-center py-3 font-semibold text-slate-600 text-sm uppercase tracking-wider bg-slate-50 rounded-xl">Ne</div>
              </div>
              
              <!-- Calendar Days -->
              <div class="grid grid-cols-7 gap-1" id="calendarGrid">
                <!-- Calendar will be populated by JavaScript -->
              </div>
            </div>
          </div>
        </div>
      </div>
      
        </div>
      </section>

      <!-- Animated Counter Section -->
    <section class="relative py-24">
      <div class="container relative z-10 mx-auto px-4 text-center">
          <div class="max-w-4xl mx-auto">
            <!-- Counter Display -->
            <div class="mb-8">
              <div id="nameCounter" class="text-6xl md:text-7xl font-bold text-slate-800 mb-4">
                0
              </div>
              <div class="text-xl text-slate-600 font-medium">
                Analýza jedinečných slovenských mien v kalendári
              </div>
            </div>
            
            <!-- Progress Bar -->
            <div class="w-full max-w-md mx-auto">
              <div class="bg-slate-200 rounded-full h-2 overflow-hidden">
                <div id="progressBar" class="bg-gradient-to-r from-slate-600 to-slate-800 h-full rounded-full transition-all duration-300 ease-out" style="width: 0%"></div>
              </div>
            </div>
          </div>
        </div>
      </section>


      <!-- E-Card Maker Modal -->
      <div id="cardModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4" style="display: none !important;">
        <div class="bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto">
          <div class="sticky top-0 bg-white border-b border-slate-200 p-4 flex items-center justify-between">
            <h3 class="text-xl font-semibold text-slate-800">Vytvoriť e-pohľadnicu</h3>
            <button id="closeCardModal" class="text-slate-400 hover:text-slate-600 transition-colors">
              <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
              </svg>
            </button>
          </div>
          <div class="p-6">
            <ECardMaker />
          </div>
        </div>
      </div>

      <!-- Features Section - ProspectPulse Style -->
  <!-- Intelligent Search Section - Pitchkit Style -->
  <section class="py-16 bg-white">
    <div class="container">
      <div class="text-center mb-12">
        <!-- AI-Powered Tag -->
        <div class="inline-flex items-center bg-slate-100 rounded-full px-4 py-2 mb-8">                                                   
          <svg class="w-4 h-4 text-slate-600 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">                                 
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>                                        
          </svg>
          <span class="text-sm font-medium text-slate-700">AI-powered</span>                                                        
        </div>
        
        <h2 class="text-4xl font-bold mb-6 tracking-tight text-black sm:text-slate-900" style="font-size: clamp(2rem, 6vw, 2.5rem);">Inteligentné vyhľadávanie</h2>                                                          
        <p class="text-slate-600 text-xl max-w-3xl mx-auto leading-relaxed tracking-tight">                                                              
          Prvý kalendár menín na Slovensku s umelou inteligenciou. 
          Inteligentné vyhľadávanie, návrhy darčekov a personalizované skúsenosti.                                                        
        </p>
      </div>
      
      <div class="grid grid-cols-1 gap-8 max-w-7xl mx-auto">
        <!-- Most Popular Names -->
        <div class="bg-gradient-to-br from-white via-slate-50/30 to-indigo-50/20 rounded-3xl p-8 border-2 border-slate-300/60 shadow-xl hover:shadow-2xl transition-all duration-300 group transform hover:-translate-y-1 feature-box-mobile">
          <div class="flex items-start justify-between mb-6 feature-header">
            <div class="w-16 h-16 bg-gradient-to-br from-orange-100 to-orange-200 rounded-2xl flex items-center justify-center flex-shrink-0 feature-icon">
              <svg class="w-8 h-8 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path>
              </svg>
            </div>
            <div class="bg-gradient-to-r from-orange-500 to-orange-600 text-white px-4 py-2 rounded-full text-sm font-semibold shadow-lg feature-badge">
              Trendy
            </div>
          </div>
          
          <h3 class="text-3xl font-bold mb-4 text-slate-900 feature-title">Najpopulárnejšie mená</h3>
          <p class="text-slate-600 text-lg leading-relaxed mb-6 feature-description">
            Zistite, ktoré mená sú najpopulárnejšie na Slovensku. 
            Trendy a štatistiky pre lepšie rozhodovanie.
          </p>
          
          <!-- Feature Screenshot Placeholder -->
          <div class="bg-gradient-to-br from-slate-50 to-slate-100 rounded-2xl p-6 mb-6 border border-slate-200/50 shadow-inner feature-preview">
            <div class="bg-white rounded-xl p-4 shadow-sm feature-preview-content">
              <div class="flex items-center space-x-3 mb-4">
                <div class="w-3 h-3 bg-red-400 rounded-full"></div>
                <div class="w-3 h-3 bg-yellow-400 rounded-full"></div>
                <div class="w-3 h-3 bg-green-400 rounded-full"></div>
                <div class="text-sm text-slate-500 ml-4">meniny365.sk/sk/trendy-v-menach</div>
              </div>
              <div class="space-y-3">
                <!-- Mobile-optimized: Simple list without complex charts -->
                <div class="flex items-center space-x-4 p-3 bg-slate-50 rounded-lg">
                  <div class="text-2xl font-bold text-slate-400 w-8">1</div>
                  <div class="flex-1">
                    <div class="flex items-center space-x-2 mb-1">
                      <h4 class="font-semibold text-slate-900">Luna</h4>
                      <span class="bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-medium">Stúpa</span>
                      <span class="bg-pink-100 text-pink-800 px-2 py-1 rounded-full text-xs">♀</span>
                    </div>
                    <div class="text-sm text-slate-600">
                      <span class="text-green-600">↗ +45% v trendoch</span>
                    </div>
                  </div>
                </div>
                <div class="flex items-center space-x-4 p-3 bg-slate-50 rounded-lg">
                  <div class="text-2xl font-bold text-slate-400 w-8">2</div>
                  <div class="flex-1">
                    <div class="flex items-center space-x-2 mb-1">
                      <h4 class="font-semibold text-slate-900">Adam</h4>
                      <span class="bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-medium">Stúpa</span>
                      <span class="bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs">♂</span>
                    </div>
                    <div class="text-sm text-slate-600">
                      <span class="text-green-600">↗ +42% v trendoch</span>
                    </div>
                  </div>
                </div>
                <div class="flex items-center space-x-4 p-3 bg-slate-50 rounded-lg">
                  <div class="text-2xl font-bold text-slate-400 w-8">3</div>
                  <div class="flex-1">
                    <div class="flex items-center space-x-2 mb-1">
                      <h4 class="font-semibold text-slate-900">Emma</h4>
                      <span class="bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-medium">Stúpa</span>
                      <span class="bg-pink-100 text-pink-800 px-2 py-1 rounded-full text-xs">♀</span>
                    </div>
                    <div class="text-sm text-slate-600">
                      <span class="text-green-600">↗ +38% v trendoch</span>
                    </div>
                  </div>
                </div>
                <div class="flex items-center space-x-4 p-3 bg-slate-50 rounded-lg">
                  <div class="text-2xl font-bold text-slate-400 w-8">4</div>
                  <div class="flex-1">
                    <div class="flex items-center space-x-2 mb-1">
                      <h4 class="font-semibold text-slate-900">Oliver</h4>
                      <span class="bg-red-100 text-red-800 px-2 py-1 rounded-full text-xs font-medium">Klesá</span>
                      <span class="bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs">♂</span>
                    </div>
                    <div class="text-sm text-slate-600">
                      <span class="text-red-600">↘ -12% v trendoch</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <ul class="text-sm text-slate-600 space-y-3 mb-8 feature-list">
            <li class="flex items-center">
              <svg class="w-5 h-5 text-green-500 mr-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
              </svg>
              Aktuálne štatistiky popularít
            </li>
            <li class="flex items-center">
              <svg class="w-5 h-5 text-green-500 mr-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
              </svg>
              Trendy za posledné roky
            </li>
            <li class="flex items-center">
              <svg class="w-5 h-5 text-green-500 mr-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
              </svg>
              Porovnanie s inými krajinami
            </li>
          </ul>
          
          <a href="/sk/trendy-v-menach" class="w-full inline-flex items-center justify-center bg-gradient-to-r from-slate-900 to-slate-800 text-white px-8 py-4 rounded-2xl font-semibold hover:from-slate-800 hover:to-slate-700 transition-all duration-200 transform hover:scale-105 shadow-lg feature-cta">
            Zobraziť trendy
          </a>
        </div>
        
        <!-- Emerging Names -->
        <div class="bg-gradient-to-br from-white via-slate-50/30 to-indigo-50/20 rounded-3xl p-8 border-2 border-slate-300/60 shadow-xl hover:shadow-2xl transition-all duration-300 group transform hover:-translate-y-1 feature-box-mobile">
          <div class="flex items-start justify-between mb-6 feature-header">
            <div class="w-16 h-16 bg-gradient-to-br from-indigo-100 to-indigo-200 rounded-2xl flex items-center justify-center flex-shrink-0 feature-icon">
              <svg class="w-8 h-8 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
              </svg>
            </div>
            <div class="bg-gradient-to-r from-indigo-500 to-indigo-600 text-white px-4 py-2 rounded-full text-sm font-semibold shadow-lg feature-badge">
              Pôvod
            </div>
          </div>
          
          <h3 class="text-3xl font-bold mb-4 text-slate-900 feature-title">Pôvod a význam mien</h3>
          <p class="text-slate-600 text-lg leading-relaxed mb-6 feature-description">
            Zistite fascinujúci pôvod a význam slovenských mien. 
            Objavte ich históriu, jazykové korene a kultúrne pozadie.
          </p>
          
          <!-- Feature Screenshot Placeholder -->
          <div class="bg-gradient-to-br from-slate-50 to-slate-100 rounded-2xl p-6 mb-6 border border-slate-200/50 shadow-inner">
            <div class="bg-white rounded-xl p-4 shadow-sm">
              <div class="flex items-center space-x-3 mb-4">
                <div class="w-3 h-3 bg-red-400 rounded-full"></div>
                <div class="w-3 h-3 bg-yellow-400 rounded-full"></div>
                <div class="w-3 h-3 bg-green-400 rounded-full"></div>
                <div class="text-sm text-slate-500 ml-4">meniny365.sk/sk/povod-a-vyznam-mien</div>
              </div>
              <div class="grid grid-cols-2 gap-4">
                <div class="text-center p-4 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl shadow-sm">
                  <div class="text-lg font-bold text-indigo-600 mb-1">Adam</div>
                  <div class="text-xs text-slate-600">Hebrejské - "človek"</div>
                </div>
                <div class="text-center p-4 bg-gradient-to-br from-pink-50 to-rose-50 rounded-xl shadow-sm">
                  <div class="text-lg font-bold text-pink-600 mb-1">Petra</div>
                  <div class="text-xs text-slate-600">Grécke - "skala"</div>
                </div>
                <div class="text-center p-4 bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl shadow-sm">
                  <div class="text-lg font-bold text-green-600 mb-1">Mária</div>
                  <div class="text-xs text-slate-600">Hebrejské - "milovaná"</div>
                </div>
                <div class="text-center p-4 bg-gradient-to-br from-orange-50 to-amber-50 rounded-xl shadow-sm">
                  <div class="text-lg font-bold text-orange-600 mb-1">Ján</div>
                  <div class="text-xs text-slate-600">Hebrejské - "milostivý"</div>
                </div>
              </div>
            </div>
          </div>
          
          <ul class="text-sm text-slate-600 space-y-3 mb-8">
            <li class="flex items-center">
              <svg class="w-5 h-5 text-green-500 mr-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
              </svg>
              Historický pôvod mien
            </li>
            <li class="flex items-center">
              <svg class="w-5 h-5 text-green-500 mr-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
              </svg>
              Jazykové korene a varianty
            </li>
            <li class="flex items-center">
              <svg class="w-5 h-5 text-green-500 mr-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
              </svg>
              Kultúrne pozadie a tradície
            </li>
          </ul>
          
          <a href="/sk/povod-a-vyznam-mien" class="w-full inline-flex items-center justify-center bg-gradient-to-r from-slate-900 to-slate-800 text-white px-8 py-4 rounded-2xl font-semibold hover:from-slate-800 hover:to-slate-700 transition-all duration-200 transform hover:scale-105 shadow-lg">
            Zistiť pôvod mien
          </a>
        </div>
        
        <!-- Gift Recommendations -->
        <div class="bg-gradient-to-br from-white via-slate-50/30 to-green-50/20 rounded-3xl p-8 border-2 border-slate-300/60 shadow-xl hover:shadow-2xl transition-all duration-300 group transform hover:-translate-y-1 feature-box-mobile">
          <div class="flex items-start justify-between mb-6">
            <div class="w-16 h-16 bg-gradient-to-br from-green-100 to-green-200 rounded-2xl flex items-center justify-center flex-shrink-0">
              <svg class="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v13m0-13V6a2 2 0 112 2h-2zm0 0V5.5A2.5 2.5 0 109.5 8H12zm-7 4h14M5 12a2 2 0 110-4h14a2 2 0 110 4M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"></path>
              </svg>
            </div>
            <div class="bg-gradient-to-r from-green-500 to-green-600 text-white px-4 py-2 rounded-full text-sm font-semibold shadow-lg">
              AI-powered
            </div>
          </div>
          
          <h3 class="text-3xl font-bold mb-4 text-slate-900">Návrhy darčekov</h3>
          <p class="text-slate-600 text-lg leading-relaxed mb-6">
            Inteligentné návrhy darčekov na základe mena a osobnosti. 
            Nájdite perfektný darček pre každú príležitosť.
          </p>
          
          <!-- Feature Screenshot Placeholder -->
          <div class="bg-gradient-to-br from-slate-50 to-slate-100 rounded-2xl p-6 mb-6 border border-slate-200/50 shadow-inner">
            <div class="bg-white rounded-xl p-4 shadow-sm">
              <div class="flex items-center space-x-3 mb-4">
                <div class="w-3 h-3 bg-red-400 rounded-full"></div>
                <div class="w-3 h-3 bg-yellow-400 rounded-full"></div>
                <div class="w-3 h-3 bg-green-400 rounded-full"></div>
                <div class="text-sm text-slate-500 ml-4">meniny365.sk/sk/pohladnice</div>
              </div>
              <div class="space-y-3">
                <div class="p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl shadow-sm">
                  <div class="flex items-center space-x-3">
                    <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center">
                      <span class="text-2xl">🎁</span>
                    </div>
                    <div class="flex-1">
                      <h4 class="font-semibold text-slate-900">Pre mená začínajúce na "A"</h4>
                      <p class="text-sm text-slate-600">Personalizované návrhy</p>
                    </div>
                  </div>
                </div>
                <div class="p-4 bg-gradient-to-r from-pink-50 to-rose-50 rounded-xl shadow-sm">
                  <div class="flex items-center space-x-3">
                    <div class="w-12 h-12 bg-pink-100 rounded-lg flex items-center justify-center">
                      <span class="text-2xl">💎</span>
                    </div>
                    <div class="flex-1">
                      <h4 class="font-semibold text-slate-900">Luxusné darčeky</h4>
                      <p class="text-sm text-slate-600">Vysoká kvalita</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <ul class="text-sm text-slate-600 space-y-3 mb-8">
            <li class="flex items-center">
              <svg class="w-5 h-5 text-green-500 mr-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
              </svg>
              AI-powered analýza mena
            </li>
            <li class="flex items-center">
              <svg class="w-5 h-5 text-green-500 mr-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
              </svg>
              Personalizované odporúčania
            </li>
            <li class="flex items-center">
              <svg class="w-5 h-5 text-green-500 mr-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
              </svg>
              Rôzne cenové kategórie
            </li>
          </ul>
          
          <a href="/sk/darceky" class="w-full inline-flex items-center justify-center bg-gradient-to-r from-slate-900 to-slate-800 text-white px-8 py-4 rounded-2xl font-semibold hover:from-slate-800 hover:to-slate-700 transition-all duration-200 transform hover:scale-105 shadow-lg">
            Generovať návrhy
          </a>
        </div>
        
        <!-- Greeting Cards -->
        <div class="bg-gradient-to-br from-white via-slate-50/30 to-pink-50/20 rounded-3xl p-8 border-2 border-slate-300/60 shadow-xl hover:shadow-2xl transition-all duration-300 group transform hover:-translate-y-1 feature-box-mobile">
          <div class="flex items-start justify-between mb-6">
            <div class="w-16 h-16 bg-gradient-to-br from-pink-100 to-pink-200 rounded-2xl flex items-center justify-center flex-shrink-0">
              <svg class="w-8 h-8 text-pink-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
              </svg>
            </div>
            <div class="bg-gradient-to-r from-pink-500 to-pink-600 text-white px-4 py-2 rounded-full text-sm font-semibold shadow-lg">
              Nové
            </div>
          </div>
          
          <h3 class="text-3xl font-bold mb-4 text-slate-900">Vytvoriť pohľadnicu</h3>
          <p class="text-slate-600 text-lg leading-relaxed mb-6">
            Vytvorte krásne personalizované pohľadnice s menom a gratuláciami. 
            Zdieľajte radosť s rodinou a priateľmi.
          </p>
          
          <!-- Feature Screenshot Placeholder -->
          <div class="bg-gradient-to-br from-slate-50 to-slate-100 rounded-2xl p-6 mb-6 border border-slate-200/50 shadow-inner">
            <div class="bg-white rounded-xl p-4 shadow-sm">
              <div class="flex items-center space-x-3 mb-4">
                <div class="w-3 h-3 bg-red-400 rounded-full"></div>
                <div class="w-3 h-3 bg-yellow-400 rounded-full"></div>
                <div class="w-3 h-3 bg-green-400 rounded-full"></div>
                <div class="text-sm text-slate-500 ml-4">meniny365.sk/sk/pohladnice</div>
              </div>
              <div class="bg-gradient-to-br from-pink-50 to-rose-50 rounded-xl p-6 text-center shadow-sm">
                <div class="text-4xl mb-2">🎉</div>
                <h4 class="font-bold text-slate-900 text-lg mb-1">Šťastné meniny!</h4>
                <p class="text-slate-600 text-sm">Všetko najlepšie k meninám</p>
                <div class="mt-4 text-2xl font-bold text-pink-600">Luna</div>
              </div>
            </div>
          </div>
          
          <ul class="text-sm text-slate-600 space-y-3 mb-8">
            <li class="flex items-center">
              <svg class="w-5 h-5 text-green-500 mr-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
              </svg>
              Personalizované dizajny
            </li>
            <li class="flex items-center">
              <svg class="w-5 h-5 text-green-500 mr-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
              </svg>
              Rýchle vytvorenie
            </li>
            <li class="flex items-center">
              <svg class="w-5 h-5 text-green-500 mr-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
              </svg>
              Zdieľanie na sociálnych sieťach
            </li>
          </ul>
          
          <a href="/sk/pohladnice" class="w-full inline-flex items-center justify-center bg-gradient-to-r from-slate-900 to-slate-800 text-white px-8 py-4 rounded-2xl font-semibold hover:from-slate-800 hover:to-slate-700 transition-all duration-200 transform hover:scale-105 shadow-lg">
            Vytvoriť pohľadnicu
          </a>
        </div>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', async () => {
      // Import the meniny data
      const meninyModule = await import('/src/data/meniny-sk/meniny-2025-simple.json');
      const meninyData = meninyModule.default;
      
      // Define toSlug function
      function toSlug(name) {
        return name
          .toLowerCase()
          .normalize('NFD')
          .replace(/[\u0300-\u036f]/g, '')
          .replace(/[^a-z0-9\s-]/g, '')
          .replace(/\s+/g, '-')
          .replace(/-+/g, '-')
          .trim();
      }
      
      // Calendar functionality
      let currentDate = new Date();
      let currentMonth = currentDate.getMonth();
      let currentYear = currentDate.getFullYear();
      
      const monthNames = [
        'Január', 'Február', 'Marec', 'Apríl', 'Máj', 'Jún',
        'Júl', 'August', 'September', 'Október', 'November', 'December'
      ];
      
      function formatDateForCalendar(year, month, day) {
        const date = new Date(year, month, day);
        return date.toISOString().split('T')[0];
      }
      
      function getNamesForDate(year, month, day) {
        const dateStr = formatDateForCalendar(year, month, day);
        return meninyData[dateStr] || [];
      }
      
      function updateCalendar() {
        const calendarTitle = document.getElementById('calendarTitle');
        const calendarTitleMobile = document.getElementById('calendarTitleMobile');
        const calendarGrid = document.getElementById('calendarGrid');
        const mobileCalendarGrid = document.getElementById('mobileCalendarGrid');
        
        // Update titles
        if (calendarTitle) {
          calendarTitle.textContent = `${monthNames[currentMonth]} ${currentYear}`;
        }
        if (calendarTitleMobile) {
          calendarTitleMobile.textContent = `${monthNames[currentMonth]} ${currentYear}`;
        }
        
        // Update desktop calendar
        if (calendarGrid) {
          calendarGrid.innerHTML = '';
          
          // Get first day of month and number of days
          const firstDay = new Date(currentYear, currentMonth, 1);
          const lastDay = new Date(currentYear, currentMonth + 1, 0);
          const daysInMonth = lastDay.getDate();
          const startingDayOfWeek = (firstDay.getDay() + 6) % 7; // Convert Sunday=0 to Monday=0
          
          // Add empty cells for days before the first day of the month
          for (let i = 0; i < startingDayOfWeek; i++) {
            const emptyDay = document.createElement('div');
            emptyDay.className = 'h-16 bg-slate-50 rounded-lg';
            calendarGrid.appendChild(emptyDay);
          }
          
          // Add days of the month
          for (let day = 1; day <= daysInMonth; day++) {
            const dayElement = document.createElement('div');
            const dayString = String(day).padStart(2, '0');
            const monthString = String(currentMonth + 1).padStart(2, '0');
            
            // Get names for this day from the data
            const dateKey = `${currentYear}-${monthString}-${dayString}`;
            const names = meninyData[dateKey] || [];
            
            // Check if it's today
            const today = new Date();
            const isToday = day === today.getDate() && currentMonth === today.getMonth() && currentYear === today.getFullYear();
            
            dayElement.className = `h-48 rounded-2xl p-3 cursor-pointer transition-all duration-200 hover:scale-105 ${
              isToday 
                ? 'bg-gradient-to-br from-slate-800 to-slate-900 text-white shadow-lg'
                : names.length > 0 
                  ? 'bg-gradient-to-br from-slate-50 to-slate-100 hover:from-slate-100 hover:to-slate-200 border border-slate-200/50'
                  : 'bg-gradient-to-br from-white to-slate-50/30 hover:from-slate-50/40 hover:to-slate-100/40 border border-slate-200/30'
            }`;

            // Show up to 6 names initially, then "show more" if there are more
            const maxInitialNames = 6;
            const hasMoreNames = names.length > maxInitialNames;
            const initialNames = names.slice(0, maxInitialNames);
            const remainingNames = names.slice(maxInitialNames);
            
            dayElement.innerHTML = `
              <div class="flex flex-col h-full">
                <div class="text-sm font-bold mb-1 flex-shrink-0">${day}</div>
                <div class="flex-1 flex flex-col space-y-0.5 overflow-hidden">
                  ${names.length > 0 ? (
               initialNames.map(name => 
                 `<a href="/sk/meno/${toSlug(name)}" class="text-xs font-medium truncate px-2 py-1 ${isToday ? 'bg-white/20 text-white rounded-full hover:bg-white/30' : 'bg-slate-200/60 text-slate-700 rounded-full hover:bg-slate-300/60'} text-center transition-colors">${name}</a>`
               ).join('') +
                    (hasMoreNames ? 
                      `<button class="text-xs px-2 py-1 ${isToday ? 'bg-white/10 text-white hover:bg-white/20' : 'bg-slate-100/80 text-slate-600 hover:bg-slate-200/80'} rounded-full text-center transition-colors show-more-btn" data-day="${day}" data-month="${currentMonth}" data-year="${currentYear}">
                        +${remainingNames.length} viac
                      </button>` : ''
                    )
                  ) : (
                    `<div class="text-xs ${isToday ? 'text-white/50' : 'text-slate-400'} text-center mt-2">-</div>`
                  )}
                </div>
              </div>
            `;

            // Add click handler to navigate to the day
            dayElement.addEventListener('click', () => {
              const dateStr = formatDateForCalendar(currentYear, currentMonth, day);
              window.location.href = `/sk/den/${dateStr}`;
            });

            // Add show more functionality
            if (hasMoreNames) {
              const showMoreBtn = dayElement.querySelector('.show-more-btn');
              if (showMoreBtn) {
                showMoreBtn.addEventListener('click', (e) => {
                  e.stopPropagation();
                  showAllNames(dayElement, names, isToday, e);
                });
              }
            }

            calendarGrid.appendChild(dayElement);
          }
        }

        // Update mobile calendar - Vertical scrollable list
        if (mobileCalendarGrid) {
          mobileCalendarGrid.innerHTML = '';
          
          // Get first day of month and number of days
          const firstDay = new Date(currentYear, currentMonth, 1);
          const lastDay = new Date(currentYear, currentMonth + 1, 0);
          const daysInMonth = lastDay.getDate();
          const startingDayOfWeek = (firstDay.getDay() + 6) % 7; // Convert Sunday=0 to Monday=0
          
          // Add empty cells for days before the first day of the month
          for (let i = 0; i < startingDayOfWeek; i++) {
            const emptyDay = document.createElement('div');
            emptyDay.className = 'px-4 py-3 border-b border-slate-200 text-center text-slate-400';
            emptyDay.innerHTML = `
              <div class="text-lg font-semibold text-slate-300">${i + 1}</div>
              <div class="text-sm text-slate-400">Žiadne meniny</div>
            `;
            mobileCalendarGrid.appendChild(emptyDay);
          }
          
          // Add days of the month
          for (let day = 1; day <= daysInMonth; day++) {
            const dayElement = document.createElement('div');
            const dayString = String(day).padStart(2, '0');
            const monthString = String(currentMonth + 1).padStart(2, '0');
            
            // Get names for this day from the data
            const dateKey = `${currentYear}-${monthString}-${dayString}`;
            const names = meninyData[dateKey] || [];
            
            // Check if it's today
            const today = new Date();
            const isToday = day === today.getDate() && currentMonth === today.getMonth() && currentYear === today.getFullYear();
            
            // Get day of week
            const dayOfWeek = new Date(currentYear, currentMonth, day).toLocaleDateString('sk-SK', { weekday: 'short' });
            
            dayElement.className = `px-4 py-3 border-b border-slate-200 cursor-pointer transition-all duration-200 ${
              isToday 
                ? 'bg-indigo-50'
                : 'hover:bg-slate-50'
            }`;

            // Show first 2 names, then "+X ďalšie mená"
            const maxInitialNames = 2;
            const hasMoreNames = names.length > maxInitialNames;
            const initialNames = names.slice(0, maxInitialNames);
            const remainingNames = names.slice(maxInitialNames);
            
            dayElement.innerHTML = `
              <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                  <div class="text-2xl font-bold ${isToday ? 'text-indigo-600' : 'text-slate-900'}">${day}</div>
                  <div class="text-sm text-slate-500">${dayOfWeek}</div>
                  ${isToday ? '<span class="text-xs bg-indigo-100 text-indigo-600 px-2 py-1 rounded-full">Dnes</span>' : ''}
                </div>
                <div class="flex-1 ml-4">
                  ${names.length > 0 ? (
                    `<div class="text-sm text-slate-700">${initialNames.join(', ')}</div>` +
                    (hasMoreNames ? 
                      `<div class="text-xs text-slate-500 mt-1">+${remainingNames.length} ${remainingNames.length === 1 ? 'ďalšie meno' : 'ďalšie mená'}</div>` : ''
                    )
                  ) : (
                    `<div class="text-sm text-slate-400">-</div>`
                  )}
                </div>
              </div>
            `;

            // Add click handler to navigate to the day
            dayElement.addEventListener('click', () => {
              const dateStr = formatDateForCalendar(currentYear, currentMonth, day);
              window.location.href = `/sk/den/${dateStr}`;
            });

            mobileCalendarGrid.appendChild(dayElement);
          }
        }
      }
      
      
      // Calendar navigation
      const prevMonthBtn = document.getElementById('prevMonth');
      const nextMonthBtn = document.getElementById('nextMonth');
      const prevMonthBtnMobile = document.getElementById('prevMonthMobile');
      const nextMonthBtnMobile = document.getElementById('nextMonthMobile');
      
      function navigateMonth(direction) {
        if (direction === 'prev') {
          currentMonth--;
          if (currentMonth < 0) {
            currentMonth = 11;
            currentYear--;
          }
        } else {
          currentMonth++;
          if (currentMonth > 11) {
            currentMonth = 0;
            currentYear++;
          }
        }
        updateCalendar();
      }
      
      if (prevMonthBtn) {
        prevMonthBtn.addEventListener('click', () => navigateMonth('prev'));
      }
      
      if (nextMonthBtn) {
        nextMonthBtn.addEventListener('click', () => navigateMonth('next'));
      }
      
      if (prevMonthBtnMobile) {
        prevMonthBtnMobile.addEventListener('click', () => navigateMonth('prev'));
      }
      
      if (nextMonthBtnMobile) {
        nextMonthBtnMobile.addEventListener('click', () => navigateMonth('next'));
      }
      
      
      // Show all names in a popup
      function showAllNames(dayElement, names, isToday, event) {
        // Remove any existing popup
        const existingPopup = document.querySelector('.names-popup');
        if (existingPopup) {
          existingPopup.remove();
        }

        // Create popup element
        const popup = document.createElement('div');
        popup.className = 'names-popup fixed z-50 bg-white rounded-2xl shadow-2xl border border-slate-200/50 p-4 max-w-xs animate-fade-in-up';
        
        // Position the popup near the clicked button
        const rect = event.target.getBoundingClientRect();
        const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
        const scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;
        
        popup.style.left = `${rect.left + scrollLeft - 50}px`;
        popup.style.top = `${rect.bottom + scrollTop + 8}px`;
        
        // Create popup content
        popup.innerHTML = `
          <div class="flex items-center justify-between mb-3">
            <h4 class="font-semibold text-slate-800 text-sm">Všetky mená</h4>
            <button class="close-popup text-slate-400 hover:text-slate-600 transition-colors">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
              </svg>
            </button>
          </div>
           <div class="flex flex-wrap gap-1">
             ${names.map(name => 
               `<a href="/sk/meno/${toSlug(name)}" class="text-xs font-medium px-2 py-1 ${isToday ? 'bg-slate-800 text-white hover:bg-slate-700' : 'bg-slate-100 text-slate-700 hover:bg-slate-200'} rounded-full transition-colors">${name}</a>`
             ).join('')}
           </div>
        `;
        
        // Add to document
        document.body.appendChild(popup);
        
        // Add close functionality
        const closeBtn = popup.querySelector('.close-popup');
        closeBtn.addEventListener('click', () => {
          popup.remove();
        });
        
        // Close on click outside
        document.addEventListener('click', function closeOnOutsideClick(e) {
          if (!popup.contains(e.target)) {
            popup.remove();
            document.removeEventListener('click', closeOnOutsideClick);
          }
        });
      }

      // Initialize calendar
      updateCalendar();
      
      // Counter animation with real data
      const nameCounter = document.getElementById('nameCounter');
      const progressBar = document.getElementById('progressBar');
      
      if (nameCounter && progressBar) {
        // Get total unique names count from real data
        const allNames = Object.values(meninyData).flat();
        const uniqueNames = [...new Set(allNames)];
        const totalNames = uniqueNames.length; // This should be 756
        
        let currentCount = 0;
        const targetCount = totalNames;
        const duration = 3000; // 3 seconds
        const increment = targetCount / (duration / 16); // 60fps
        
        const animateCounter = () => {
          currentCount += increment;
          if (currentCount < targetCount) {
            nameCounter.textContent = Math.floor(currentCount);
            progressBar.style.width = `${(currentCount / targetCount) * 100}%`;
            requestAnimationFrame(animateCounter);
          } else {
            nameCounter.textContent = targetCount;
            progressBar.style.width = '100%';
          }
        };
        
        // Start animation after a short delay
        setTimeout(animateCounter, 1000);
      }
      
      // E-card modal functionality
      const createCardBtn = document.getElementById('createCardBtn');
      const cardModal = document.getElementById('cardModal');
      const closeCardModal = document.getElementById('closeCardModal');
      
      if (createCardBtn && cardModal) {
        createCardBtn.addEventListener('click', () => {
          cardModal.style.display = 'flex';
        });
      }
      
      if (closeCardModal && cardModal) {
        closeCardModal.addEventListener('click', () => {
          cardModal.style.display = 'none';
        });
      }
      
      // Close modal when clicking outside
      if (cardModal) {
        cardModal.addEventListener('click', (e) => {
          if (e.target === cardModal) {
            cardModal.style.display = 'none';
          }
        });
      }
    });
  </script>
  
  <!-- Mobile Feature Box Fixes -->
  <style>
    @media screen and (max-width: 768px) {
      .feature-box-mobile {
        padding: 0.75rem !important;
        margin-bottom: 1rem !important;
        border-radius: 1rem !important;
        width: 100% !important;
        max-width: 100% !important;
        box-sizing: border-box !important;
        overflow: hidden !important;
      }
      
      .feature-box-mobile .flex.items-start.justify-between {
        flex-direction: row !important;
        align-items: flex-start !important;
        justify-content: space-between !important;
        margin-bottom: 0.75rem !important;
        width: 100% !important;
      }
      
      .feature-box-mobile .w-16.h-16 {
        width: 2.5rem !important;
        height: 2.5rem !important;
        margin-bottom: 0 !important;
        flex-shrink: 0 !important;
      }
      
      .feature-box-mobile .w-16.h-16 svg {
        width: 1.5rem !important;
        height: 1.5rem !important;
      }
      
      .feature-box-mobile h3 {
        font-size: 1.5rem !important;
        line-height: 1.3 !important;
        margin-bottom: 0.75rem !important;
        width: 100% !important;
        word-wrap: break-word !important;
      }
      
      .feature-box-mobile p {
        font-size: 0.85rem !important;
        line-height: 1.4 !important;
        margin-bottom: 1.25rem !important;
        width: 100% !important;
        word-wrap: break-word !important;
      }
      
      .feature-box-mobile .bg-gradient-to-br.from-slate-50 {
        padding: 0.5rem !important;
        margin-bottom: 1rem !important;
        width: 100% !important;
        max-width: 100% !important;
        box-sizing: border-box !important;
      }
      
      .feature-box-mobile .bg-white.rounded-xl {
        padding: 0.375rem !important;
        width: 100% !important;
        max-width: 100% !important;
        box-sizing: border-box !important;
      }
      
      .feature-box-mobile ul {
        font-size: 0.75rem !important;
        margin-bottom: 0.75rem !important;
        width: 100% !important;
        max-width: 100% !important;
        box-sizing: border-box !important;
      }
      
      .feature-box-mobile ul li {
        margin-bottom: 0.25rem !important;
        width: 100% !important;
        word-wrap: break-word !important;
      }
      
      .feature-box-mobile ul svg {
        width: 1rem !important;
        height: 1rem !important;
        flex-shrink: 0 !important;
      }
      
      .feature-box-mobile a.inline-flex {
        padding: 0.75rem 1.5rem !important;
        font-size: 0.9rem !important;
        border-radius: 0.75rem !important;
        width: 100% !important;
        max-width: 100% !important;
        box-sizing: border-box !important;
        text-align: center !important;
        font-weight: 600 !important;
      }
      
      .grid.grid-cols-1 {
        gap: 1rem !important;
      }
      
      /* Reduce padding between calendar and counter section on mobile */
      .mobile-calendar-section {
        margin-bottom: 2rem !important;
      }
      
      /* Reduce month name font size in calendar header */
      .mobile-calendar-section h3 {
        font-size: 1.25rem !important;
        line-height: 1.3 !important;
      }
    }
  </style>
</Layout>


