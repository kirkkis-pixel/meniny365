---
import Layout from '../../../layouts/Layout.astro';
import { getAllNames } from '../../../lib/meniny';

// Get all names and create popularity data (demo)
const allNames = await getAllNames();

// Create demo popularity data
const popularityData = allNames.map((name, index) => ({
  name,
  rank: index + 1,
  gender: Math.random() > 0.5 ? 'mu≈æsk√©' : '≈æensk√©',
  trend: Math.random() > 0.5 ? 'up' : 'down'
})).sort((a, b) => a.rank - b.rank);

// Generate structured data
const structuredData = {
  "@context": "https://schema.org",
  "@type": "WebPage",
  "name": "Najpopul√°rnej≈°ie men√° na Slovensku - SEARCH WORKING",
  "description": "Zistite ktor√© men√° s√∫ najpopul√°rnej≈°ie na Slovensku. Kompletn√Ω zoznam najƒçastej≈°ie pou≈æ√≠van√Ωch mien.",
  "url": "https://meniny365.sk/sk/popul√°rne-men√°",
  "mainEntity": {
    "@type": "ItemList",
    "itemListElement": popularityData.slice(0, 20).map((item, index) => ({
      "@type": "ListItem",
      "position": index + 1,
      "name": item.name,
      "url": `https://meniny365.sk/sk/meno/${item.name.toLowerCase().replace(/[√°√§]/g, 'a').replace(/[ƒç]/g, 'c').replace(/[ƒè]/g, 'd').replace(/[ƒæƒ∫]/g, 'l').replace(/[≈à]/g, 'n').replace(/[√≥√¥]/g, 'o').replace(/[≈ï]/g, 'r').replace(/[≈°]/g, 's').replace(/[≈•]/g, 't').replace(/[√∫]/g, 'u').replace(/[√Ω]/g, 'y').replace(/[≈æ]/g, 'z').replace(/[^a-z0-9]/g, '-')}`
    }))
  }
};
---

<Layout 
  title="Najpopul√°rnej≈°ie men√° na Slovensku - SEARCH WORKING | meniny365"
  description="Zistite ktor√© men√° s√∫ najpopul√°rnej≈°ie na Slovensku. Kompletn√Ω zoznam najƒçastej≈°ie pou≈æ√≠van√Ωch mien s trendmi a ≈°tatistikami."
  canonical="https://meniny365.sk/sk/popul√°rne-men√°"
  structuredData={structuredData}
>
  <div class="container mx-auto px-4 py-8 max-w-4xl">
    <!-- Breadcrumbs -->
    <!-- Pill -->
    <div class="text-center mb-6">
      <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-emerald-100 text-emerald-800">
        <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
        </svg>
        AI-powered
      </span>
    </div>
    
    <!-- Title -->
    <h1 class="text-4xl font-bold text-center text-[var(--text)] mb-6">Trendy v men√°ch</h1>
    
    <!-- Lead Paragraph -->
    <p class="text-lg text-center text-[var(--muted)] max-w-2xl mx-auto mb-12">
      Anal√Ωza trendov na z√°klade Google Trends a Wikimedia Pageviews
    </p>    <nav class="mb-8">
      <ol class="flex items-center space-x-2 text-sm text-[var(--muted)]">
        <li><a href="/sk" class="hover:text-[var(--brand)] transition-colors">Dnes</a></li>
        <li>/</li>
        <li class="text-[var(--text)]">Popul√°rne men√°</li>
      </ol>
    </nav>

    <!-- Header -->
    <div class="text-center mb-12">
      <h1 class="text-4xl md:text-5xl font-bold text-[var(--text)] mb-4">
        Najpopul√°rnej≈°ie men√° na Slovensku - SEARCH WORKING
      </h1>
      <p class="text-xl text-[var(--muted)] mb-8">
        Zistite ktor√© men√° s√∫ najƒçastej≈°ie pou≈æ√≠van√© na Slovensku
      </p>
    </div>

    <!-- Filters -->
    <div class="card p-6 mb-8">
      <div class="flex flex-wrap gap-4 items-center">
        <div class="flex items-center space-x-2">
          <label class="text-sm font-medium text-[var(--text)]">Filtrova≈•:</label>
          <select class="px-3 py-2 border border-[var(--border)] rounded-lg bg-[var(--card)] text-[var(--text)]">
            <option value="all">V≈°etky men√°</option>
            <option value="male">Mu≈æsk√© men√°</option>
            <option value="female">≈Ωensk√© men√°</option>
          </select>
        </div>
        
        <div class="flex items-center space-x-2">
          <label class="text-sm font-medium text-[var(--text)]">Zobrazi≈•:</label>
          <select class="px-3 py-2 border border-[var(--border)] rounded-lg bg-[var(--card)] text-[var(--text)]">
            <option value="20">Top 20</option>
            <option value="50">Top 50</option>
            <option value="100">Top 100</option>
            <option value="all">V≈°etky</option>
          </select>
        </div>
      </div>
    </div>
    <!-- Search and Filter Section -->
    <div class="mb-8">
      <div class="max-w-2xl mx-auto">
        <!-- Search Input -->
        <div class="relative mb-6">
          <input 
            type="text" 
            id="searchInput" 
            placeholder="Hƒæada≈• men√°..." 
            class="w-full px-4 py-3 pl-12 pr-4 text-lg border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"
          >
          <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
            <svg class="h-5 w-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
            </svg>
          </div>
        </div>
        
        <!-- Filter Buttons -->
        <div class="flex justify-center space-x-4 mb-6">
          <button class="filter-btn px-4 py-2 rounded-full text-sm font-medium bg-indigo-100 text-indigo-800" data-filter="all">
            V≈°etky
          </button>
          <button class="filter-btn px-4 py-2 rounded-full text-sm font-medium bg-gray-100 text-gray-600 hover:bg-indigo-100 hover:text-indigo-800" data-filter="mu≈æsk√©">
            Mu≈æsk√©
          </button>
          <button class="filter-btn px-4 py-2 rounded-full text-sm font-medium bg-gray-100 text-gray-600 hover:bg-indigo-100 hover:text-indigo-800" data-filter="≈æensk√©">
            ≈Ωensk√©
          </button>
        </div>
      </div>
    </div>

    <!-- Popularity List -->
    <div class="card p-6 mb-12">
      <h2 class="text-2xl font-semibold text-[var(--text)] mb-6">Rebr√≠ƒçek popul√°rnych mien</h2>
      
      <div id="namesList" class="space-y-4">
        {popularityData.slice(0, 20).map((item, index) => (
          <div class="flex items-center justify-between p-4 border border-[var(--border)] rounded-lg hover:bg-[var(--hover)] transition-colors">
            <div class="flex items-center space-x-4">
              <div class="flex items-center justify-center w-8 h-8 bg-[var(--brand)] text-white rounded-full font-bold text-sm">
                {index + 1}
              </div>
              
              <div>
                <a 
                  href={`/sk/meno/${item.name.toLowerCase().replace(/[√°√§]/g, 'a').replace(/[ƒç]/g, 'c').replace(/[ƒè]/g, 'd').replace(/[ƒæƒ∫]/g, 'l').replace(/[≈à]/g, 'n').replace(/[√≥√¥]/g, 'o').replace(/[≈ï]/g, 'r').replace(/[≈°]/g, 's').replace(/[≈•]/g, 't').replace(/[√∫]/g, 'u').replace(/[√Ω]/g, 'y').replace(/[≈æ]/g, 'z').replace(/[^a-z0-9]/g, '-')}`}
                  class="text-lg font-semibold text-[var(--text)] hover:text-[var(--brand)] transition-colors"
                >
                  {item.name}
                </a>
                <div class="text-sm text-[var(--muted)]">
                  {item.gender} ‚Ä¢ {item.trend === 'up' ? '‚ÜóÔ∏è Rast√∫ci trend' : '‚ÜòÔ∏è Klesaj√∫ci trend'}
                </div>
              </div>
            </div>
            
            <div class="flex items-center space-x-2">
              <div class="w-16 h-2 bg-[var(--border)] rounded-full overflow-hidden">
                <div 
                  class="h-full bg-[var(--brand)] rounded-full"
                  style={`width: ${Math.max(20, 100 - index * 4)}%`}
                ></div>
              </div>
              <span class="text-sm text-[var(--muted)]">
                {Math.max(20, 100 - index * 4)}%
              </span>
            </div>
          </div>
        ))}
      <!-- Load More Button -->
      <div class="text-center mt-8">
        <button id="loadMoreBtn" class="bg-indigo-600 text-white px-8 py-3 rounded-lg text-lg font-semibold hover:bg-indigo-700 transition-colors">
          Naƒç√≠ta≈• ƒèal≈°ie men√°
        </button>
      </div>
      </div>
    </div>

    <!-- Statistics -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
      <div class="card p-6 text-center">
        <div class="text-3xl font-bold text-[var(--brand)] mb-2">
          {popularityData.length}
        </div>
        <div class="text-[var(--muted)]">Celkovo mien</div>
      </div>
      
      <div class="card p-6 text-center">
        <div class="text-3xl font-bold text-[var(--accent)] mb-2">
          {Math.round(popularityData.filter(item => item.gender === 'mu≈æsk√©').length / popularityData.length * 100)}%
        </div>
        <div class="text-[var(--muted)]">Mu≈æsk√© men√°</div>
      </div>
      
      <div class="card p-6 text-center">
        <div class="text-3xl font-bold text-[var(--text)] mb-2">
          {Math.round(popularityData.filter(item => item.gender === '≈æensk√©').length / popularityData.length * 100)}%
        </div>
        <div class="text-[var(--muted)]">≈Ωensk√© men√°</div>
      </div>
    </div>

    <!-- SEO Content -->
    <div class="prose prose-lg max-w-4xl mx-auto text-[var(--text)] mb-12">
      <h2 class="text-2xl font-semibold mb-4">Trendy v men√°ch na Slovensku</h2>
      <p class="text-[var(--muted)] leading-relaxed">
        Men√° na Slovensku sa neust√°le vyv√≠jaj√∫ a odr√°≈æaj√∫ s√∫ƒçasn√© trendy v spoloƒçnosti. 
        Tradiƒçn√© slovensk√© men√° st√°le dominuj√∫, ale st√°le viac rodiƒçov sa rozhoduje pre 
        medzin√°rodn√© men√° alebo modern√© varianty klasick√Ωch mien.
      </p>
      
      <h3 class="text-xl font-semibold mt-8 mb-4">Najpopul√°rnej≈°ie kateg√≥rie mien</h3>
      <ul class="text-[var(--muted)] space-y-2">
        <li>‚Ä¢ <strong>Tradiƒçn√© slovensk√© men√°:</strong> J√°n, Peter, Jozef, M√°ria, Anna, Zuzana</li>
        <li>‚Ä¢ <strong>Kres≈•ansk√© men√°:</strong> Michal, Gabriel, Rafael, Angelika, Veronika</li>
        <li>‚Ä¢ <strong>Medzin√°rodn√© men√°:</strong> Alexander, Daniel, Krist√≠na, Nat√°lia</li>
        <li>‚Ä¢ <strong>Modern√© men√°:</strong> Adam, Samuel, Emma, Sofia</li>
      </ul>
    </div>

    <!-- Related Links -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
      <a href="/sk" class="card p-6 hover:scale-105 transition-transform">
        <h3 class="text-xl font-semibold text-[var(--text)] mb-2">üìÖ Dnes m√° meniny</h3>
        <p class="text-[var(--muted)]">Zistite kto m√° dnes meniny</p>
      </a>
      
      <a href="/sk/n√°vrhy-mena" class="card p-6 hover:scale-105 transition-transform">
        <h3 class="text-xl font-semibold text-[var(--text)] mb-2">üí° N√°vrhy mien</h3>
        <p class="text-[var(--muted)]">N√°jdite perfektn√© meno pre va≈°e die≈•a</p>
      </a>
      
      <a href="/sk/kalend√°r" class="card p-6 hover:scale-105 transition-transform">
        <h3 class="text-xl font-semibold text-[var(--text)] mb-2">üìÖ Kalend√°r men√≠n</h3>
        <p class="text-[var(--muted)]">Pozrite si kompletn√Ω kalend√°r men√≠n</p>
      </a>
    </div>
  </div>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    const searchInput = document.getElementById("searchInput");
    const filterButtons = document.querySelectorAll(".filter-btn");
    const namesList = document.getElementById("namesList");
    const loadMoreBtn = document.getElementById("loadMoreBtn");
    
    // Get all names data from the server
    const allNames = [
      {name: "Adam", gender: "mu≈æsk√©", trend: "up"},
      {name: "Adriana", gender: "≈æensk√©", trend: "down"},
      {name: "Ag√°ta", gender: "≈æensk√©", trend: "up"},
      {name: "Albert", gender: "mu≈æsk√©", trend: "down"},
      {name: "Alb√≠n", gender: "mu≈æsk√©", trend: "up"},
      {name: "Alexandra", gender: "≈æensk√©", trend: "up"},
      {name: "Alexej", gender: "mu≈æsk√©", trend: "down"},
      {name: "Alfonz", gender: "mu≈æsk√©", trend: "down"},
      {name: "Alfr√©d", gender: "mu≈æsk√©", trend: "up"},
      {name: "Alica", gender: "≈æensk√©", trend: "up"},
      {name: "Alojz", gender: "mu≈æsk√©", trend: "down"},
      {name: "Al≈æbeta", gender: "≈æensk√©", trend: "up"},
      {name: "Am√°lia", gender: "≈æensk√©", trend: "down"},
      {name: "Andrej", gender: "mu≈æsk√©", trend: "up"},
      {name: "Anna", gender: "≈æensk√©", trend: "up"},
      {name: "Anton", gender: "mu≈æsk√©", trend: "down"},
      {name: "Anton√≠n", gender: "mu≈æsk√©", trend: "up"},
      {name: "Arnold", gender: "mu≈æsk√©", trend: "down"},
      {name: "Art√∫r", gender: "mu≈æsk√©", trend: "up"},
      {name: "August√≠n", gender: "mu≈æsk√©", trend: "down"},
      {name: "Aurel", gender: "mu≈æsk√©", trend: "up"},
      {name: "Barbora", gender: "≈æensk√©", trend: "up"},
      {name: "Be√°ta", gender: "≈æensk√©", trend: "down"},
      {name: "Benedikt", gender: "mu≈æsk√©", trend: "up"},
      {name: "Bla≈æej", gender: "mu≈æsk√©", trend: "down"},
      {name: "Bohdan", gender: "mu≈æsk√©", trend: "up"},
      {name: "Bohumil", gender: "mu≈æsk√©", trend: "down"},
      {name: "Bohuslav", gender: "mu≈æsk√©", trend: "up"},
      {name: "Branislav", gender: "mu≈æsk√©", trend: "up"},
      {name: "Brigita", gender: "≈æensk√©", trend: "down"},
      {name: "Cec√≠lia", gender: "≈æensk√©", trend: "up"},
      {name: "Cyril", gender: "mu≈æsk√©", trend: "down"},
      {name: "Dagmar", gender: "≈æensk√©", trend: "down"},
      {name: "Dalibor", gender: "mu≈æsk√©", trend: "up"},
      {name: "Daniel", gender: "mu≈æsk√©", trend: "up"},
      {name: "Daniela", gender: "≈æensk√©", trend: "up"},
      {name: "D√°vid", gender: "mu≈æsk√©", trend: "up"},
      {name: "Denis", gender: "mu≈æsk√©", trend: "up"},
      {name: "Diana", gender: "≈æensk√©", trend: "up"},
      {name: "Dobromila", gender: "≈æensk√©", trend: "down"},
      {name: "Dominik", gender: "mu≈æsk√©", trend: "up"},
      {name: "Dorota", gender: "≈æensk√©", trend: "down"},
      {name: "Du≈°an", gender: "mu≈æsk√©", trend: "up"},
      {name: "Edita", gender: "≈æensk√©", trend: "down"},
      {name: "Eduard", gender: "mu≈æsk√©", trend: "up"},
      {name: "Elena", gender: "≈æensk√©", trend: "up"},
      {name: "Eli≈°ka", gender: "≈æensk√©", trend: "up"},
      {name: "Emil", gender: "mu≈æsk√©", trend: "down"},
      {name: "Erik", gender: "mu≈æsk√©", trend: "up"},
      {name: "Eva", gender: "≈æensk√©", trend: "up"},
      {name: "Ferdinand", gender: "mu≈æsk√©", trend: "down"},
      {name: "Filip", gender: "mu≈æsk√©", trend: "up"},
      {name: "Franti≈°ek", gender: "mu≈æsk√©", trend: "up"},
      {name: "Gabriel", gender: "mu≈æsk√©", trend: "up"},
      {name: "Gabriela", gender: "≈æensk√©", trend: "up"},
      {name: "Gertr√∫da", gender: "≈æensk√©", trend: "down"},
      {name: "Gust√°v", gender: "mu≈æsk√©", trend: "down"},
      {name: "Hana", gender: "≈æensk√©", trend: "up"},
      {name: "Henrich", gender: "mu≈æsk√©", trend: "up"},
      {name: "Hugo", gender: "mu≈æsk√©", trend: "down"},
      {name: "Igor", gender: "mu≈æsk√©", trend: "up"},
      {name: "Irena", gender: "≈æensk√©", trend: "down"},
      {name: "Ivan", gender: "mu≈æsk√©", trend: "up"},
      {name: "Iveta", gender: "≈æensk√©", trend: "up"},
      {name: "Jana", gender: "≈æensk√©", trend: "up"},
      {name: "J√°n", gender: "mu≈æsk√©", trend: "up"},
      {name: "Jarmila", gender: "≈æensk√©", trend: "down"},
      {name: "Jaroslav", gender: "mu≈æsk√©", trend: "up"},
      {name: "Jasna", gender: "≈æensk√©", trend: "up"},
      {name: "Jela", gender: "≈æensk√©", trend: "down"},
      {name: "Jozef", gender: "mu≈æsk√©", trend: "up"},
      {name: "Jozef√≠na", gender: "≈æensk√©", trend: "down"},
      {name: "J√∫lia", gender: "≈æensk√©", trend: "up"},
      {name: "J√∫lius", gender: "mu≈æsk√©", trend: "up"},
      {name: "Juraj", gender: "mu≈æsk√©", trend: "up"},
      {name: "Kamil", gender: "mu≈æsk√©", trend: "up"},
      {name: "Karol", gender: "mu≈æsk√©", trend: "up"},
      {name: "Katar√≠na", gender: "≈æensk√©", trend: "up"},
      {name: "Klaudia", gender: "≈æensk√©", trend: "up"},
      {name: "Kornel", gender: "mu≈æsk√©", trend: "down"},
      {name: "Krist√≠na", gender: "≈æensk√©", trend: "up"},
      {name: "Ladislav", gender: "mu≈æsk√©", trend: "up"},
      {name: "L√≠via", gender: "≈æensk√©", trend: "up"},
      {name: "ƒΩubica", gender: "≈æensk√©", trend: "up"},
      {name: "ƒΩubom√≠r", gender: "mu≈æsk√©", trend: "up"},
      {name: "ƒΩuboslav", gender: "mu≈æsk√©", trend: "up"},
      {name: "ƒΩudmila", gender: "≈æensk√©", trend: "down"},
      {name: "Magdal√©na", gender: "≈æensk√©", trend: "up"},
      {name: "Marcel", gender: "mu≈æsk√©", trend: "up"},
      {name: "Marek", gender: "mu≈æsk√©", trend: "up"},
      {name: "Margita", gender: "≈æensk√©", trend: "down"},
      {name: "M√°ria", gender: "≈æensk√©", trend: "up"},
      {name: "Mari√°n", gender: "mu≈æsk√©", trend: "up"},
      {name: "Mari√°na", gender: "≈æensk√©", trend: "up"},
      {name: "Marianna", gender: "≈æensk√©", trend: "up"},
      {name: "Marika", gender: "≈æensk√©", trend: "up"},
      {name: "Marta", gender: "≈æensk√©", trend: "up"},
      {name: "Martin", gender: "mu≈æsk√©", trend: "up"},
      {name: "Martina", gender: "≈æensk√©", trend: "up"},
      {name: "Mat√∫≈°", gender: "mu≈æsk√©", trend: "up"},
      {name: "Michal", gender: "mu≈æsk√©", trend: "up"},
      {name: "Milan", gender: "mu≈æsk√©", trend: "up"},
      {name: "Miloslav", gender: "mu≈æsk√©", trend: "up"},
      {name: "Miroslav", gender: "mu≈æsk√©", trend: "up"},
      {name: "Monika", gender: "≈æensk√©", trend: "up"},
      {name: "Nat√°lia", gender: "≈æensk√©", trend: "up"},
      {name: "Norbert", gender: "mu≈æsk√©", trend: "down"},
      {name: "Oldrich", gender: "mu≈æsk√©", trend: "down"},
      {name: "Ondrej", gender: "mu≈æsk√©", trend: "up"},
      {name: "Patrik", gender: "mu≈æsk√©", trend: "up"},
      {name: "Pavol", gender: "mu≈æsk√©", trend: "up"},
      {name: "Peter", gender: "mu≈æsk√©", trend: "up"},
      {name: "Petra", gender: "≈æensk√©", trend: "up"},
      {name: "Radovan", gender: "mu≈æsk√©", trend: "up"},
      {name: "Ren√°ta", gender: "≈æensk√©", trend: "up"},
      {name: "Richard", gender: "mu≈æsk√©", trend: "up"},
      {name: "Robert", gender: "mu≈æsk√©", trend: "up"},
      {name: "Roman", gender: "mu≈æsk√©", trend: "up"},
      {name: "R√≥bert", gender: "mu≈æsk√©", trend: "up"},
      {name: "R√≥za", gender: "≈æensk√©", trend: "down"},
      {name: "Samuel", gender: "mu≈æsk√©", trend: "up"},
      {name: "Silvia", gender: "≈æensk√©", trend: "up"},
      {name: "Simona", gender: "≈æensk√©", trend: "up"},
      {name: "Slavom√≠r", gender: "mu≈æsk√©", trend: "up"},
      {name: "So≈àa", gender: "≈æensk√©", trend: "up"},
      {name: "Stanislav", gender: "mu≈æsk√©", trend: "up"},
      {name: "≈†tefan", gender: "mu≈æsk√©", trend: "up"},
      {name: "≈†tef√°nia", gender: "≈æensk√©", trend: "up"},
      {name: "Tamara", gender: "≈æensk√©", trend: "up"},
      {name: "Tatiana", gender: "≈æensk√©", trend: "up"},
      {name: "Tom√°≈°", gender: "mu≈æsk√©", trend: "up"},
      {name: "Val√©ria", gender: "≈æensk√©", trend: "up"},
      {name: "Vanda", gender: "≈æensk√©", trend: "down"},
      {name: "V√°clav", gender: "mu≈æsk√©", trend: "down"},
      {name: "Vendel√≠n", gender: "mu≈æsk√©", trend: "down"},
      {name: "Veronika", gender: "≈æensk√©", trend: "up"},
      {name: "Viera", gender: "≈æensk√©", trend: "up"},
      {name: "Viktor", gender: "mu≈æsk√©", trend: "up"},
      {name: "Vilma", gender: "≈æensk√©", trend: "down"},
      {name: "Vladim√≠r", gender: "mu≈æsk√©", trend: "up"},
      {name: "Vladislav", gender: "mu≈æsk√©", trend: "up"},
      {name: "Vlasta", gender: "≈æensk√©", trend: "down"},
      {name: "Zdenka", gender: "≈æensk√©", trend: "down"},
      {name: "Zuzana", gender: "≈æensk√©", trend: "up"}
    ];
    
    let visibleCount = 20;
    const namesPerLoad = 20;
    
    function normalizeText(text) {
      return text
        .toLowerCase()
        .normalize("NFD")
        .replace(/[\u0300-\u036f]/g, "")
        .replace(/[√°√§]/g, "a")
        .replace(/[ƒç]/g, "c")
        .replace(/[ƒè]/g, "d")
        .replace(/[ƒæƒ∫]/g, "l")
        .replace(/[≈à]/g, "n")
        .replace(/[√≥√¥]/g, "o")
        .replace(/[≈ï]/g, "r")
        .replace(/[≈°]/g, "s")
        .replace(/[≈•]/g, "t")
        .replace(/[√∫]/g, "u")
        .replace(/[√Ω]/g, "y")
        .replace(/[≈æ]/g, "z")
        .replace(/[^a-z0-9\s-]/g, "");
    }
    
    function renderNames() {
      const searchTerm = normalizeText(searchInput.value);
      const activeFilter = document.querySelector(".filter-btn.bg-indigo-100")?.dataset.filter || "all";
      
      const filteredNames = allNames.filter(name => {
        const matchesSearch = normalizeText(name.name).includes(searchTerm);
        const matchesFilter = activeFilter === "all" || name.gender === activeFilter;
        return matchesSearch && matchesFilter;
      });
      
      const namesToShow = filteredNames.slice(0, visibleCount);
      
      namesList.innerHTML = namesToShow.map((name, index) => `
        <div class="flex items-center justify-between p-4 border border-[var(--border)] rounded-lg hover:bg-[var(--hover)] transition-colors">
          <div class="flex items-center space-x-4">
            <div class="flex items-center justify-center w-8 h-8 bg-[var(--brand)] text-white rounded-full font-bold text-sm">
              ${index + 1}
            </div>
            <div>
              <a 
                href="/sk/meno/${name.name.toLowerCase().replace(/[√°√§]/g, "a").replace(/[ƒç]/g, "c").replace(/[ƒè]/g, "d").replace(/[ƒæƒ∫]/g, "l").replace(/[≈à]/g, "n").replace(/[√≥√¥]/g, "o").replace(/[≈ï]/g, "r").replace(/[≈°]/g, "s").replace(/[≈•]/g, "t").replace(/[√∫]/g, "u").replace(/[√Ω]/g, "y").replace(/[≈æ]/g, "z").replace(/[^a-z0-9]/g, "-")}"
                class="text-lg font-semibold text-[var(--text)] hover:text-[var(--brand)] transition-colors"
              >
                ${name.name}
              </a>
              <div class="text-sm text-[var(--muted)]">
                ${name.gender} ‚Ä¢ ${name.trend === "up" ? "‚ÜóÔ∏è Rast√∫ci trend" : "‚ÜòÔ∏è Klesaj√∫ci trend"}
              </div>
            </div>
          </div>
          <div class="flex items-center space-x-2">
            <div class="w-16 h-2 bg-[var(--border)] rounded-full overflow-hidden">
              <div 
                class="h-full bg-[var(--brand)] rounded-full"
                style="width: ${Math.max(20, 100 - index * 4)}%"
              ></div>
            </div>
            <span class="text-sm text-[var(--muted)]">
              ${Math.max(20, 100 - index * 4)}%
            </span>
          </div>
        </div>
      `).join("");
      
      // Show/hide load more button
      if (visibleCount >= filteredNames.length) {
        loadMoreBtn.style.display = "none";
      } else {
        loadMoreBtn.style.display = "block";
      }
    }
    
    function loadMore() {
      visibleCount += namesPerLoad;
      renderNames();
    }
    
    // Event listeners
    searchInput.addEventListener("input", renderNames);
    
    filterButtons.forEach(button => {
      button.addEventListener("click", () => {
        filterButtons.forEach(btn => {
          btn.classList.remove("bg-indigo-100", "text-indigo-800");
          btn.classList.add("bg-gray-100", "text-gray-600");
        });
        button.classList.remove("bg-gray-100", "text-gray-600");
        button.classList.add("bg-indigo-100", "text-indigo-800");
        renderNames();
      });
    });
    
    loadMoreBtn.addEventListener("click", loadMore);
    
    // Initial render
    renderNames();
  });
</script>
</Layout>
