---
import Layout from '../../../layouts/Layout.astro';
import { getAllNames } from '../../../lib/meniny';

// Get all names and create popularity data (demo)
const allNames = await getAllNames();

// Create demo popularity data
const popularityData = allNames.map((name, index) => ({
  name,
  rank: index + 1,
  gender: Math.random() > 0.5 ? 'mu≈æsk√©' : '≈æensk√©',
  trend: Math.random() > 0.5 ? 'up' : 'down'
})).sort((a, b) => a.rank - b.rank);

// Generate structured data
const structuredData = {
  "@context": "https://schema.org",
  "@type": "WebPage",
  "name": "Najpopul√°rnej≈°ie men√° na Slovensku",
  "description": "Zistite ktor√© men√° s√∫ najpopul√°rnej≈°ie na Slovensku. Kompletn√Ω zoznam najƒçastej≈°ie pou≈æ√≠van√Ωch mien.",
  "url": "https://meniny365.sk/sk/popul√°rne-men√°",
  "mainEntity": {
    "@type": "ItemList",
    "itemListElement": popularityData.slice(0, 20).map((item, index) => ({
      "@type": "ListItem",
      "position": index + 1,
      "name": item.name,
      "url": `https://meniny365.sk/sk/meno/${item.name.toLowerCase().replace(/[√°√§]/g, 'a').replace(/[ƒç]/g, 'c').replace(/[ƒè]/g, 'd').replace(/[ƒæƒ∫]/g, 'l').replace(/[≈à]/g, 'n').replace(/[√≥√¥]/g, 'o').replace(/[≈ï]/g, 'r').replace(/[≈°]/g, 's').replace(/[≈•]/g, 't').replace(/[√∫]/g, 'u').replace(/[√Ω]/g, 'y').replace(/[≈æ]/g, 'z').replace(/[^a-z0-9]/g, '-')}`
    }))
  }
};
---

<Layout 
  title="Najpopul√°rnej≈°ie men√° na Slovensku | meniny365"
  description="Zistite ktor√© men√° s√∫ najpopul√°rnej≈°ie na Slovensku. Kompletn√Ω zoznam najƒçastej≈°ie pou≈æ√≠van√Ωch mien s trendmi a ≈°tatistikami."
  canonical="https://meniny365.sk/sk/popul√°rne-men√°"
  structuredData={structuredData}
>
  <!-- FORCE DEPLOYMENT - Content width unified to max-w-4xl -->  <div class="container mx-auto px-4 py-8 max-w-4xl">
    <!-- Breadcrumbs -->
    <!-- Pill -->
    <div class="text-center mb-6">
      <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-emerald-100 text-emerald-800">
        <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
        </svg>
        AI-powered
      </span>
    </div>
    
    <!-- Title -->
    <h1 class="text-4xl font-bold text-center text-[var(--text)] mb-6">Trendy v men√°ch</h1>
    
    <!-- Lead Paragraph -->
    <p class="text-lg text-center text-[var(--muted)] max-w-2xl mx-auto mb-12">
      Anal√Ωza trendov na z√°klade Google Trends a Wikimedia Pageviews
    </p>    <nav class="mb-8">
      <ol class="flex items-center space-x-2 text-sm text-[var(--muted)]">
        <li><a href="/sk" class="hover:text-[var(--brand)] transition-colors">Dnes</a></li>
        <li>/</li>
        <li class="text-[var(--text)]">Popul√°rne men√°</li>
      </ol>
    </nav>

    <!-- Header -->
    <div class="text-center mb-12">
      <h1 class="text-4xl md:text-5xl font-bold text-[var(--text)] mb-4">
        Najpopul√°rnej≈°ie men√° na Slovensku
      </h1>
      <p class="text-xl text-[var(--muted)] mb-8">
        Zistite ktor√© men√° s√∫ najƒçastej≈°ie pou≈æ√≠van√© na Slovensku
      </p>
    </div>

    <!-- Filters -->
    <div class="card p-6 mb-8">
      <div class="flex flex-wrap gap-4 items-center">
        <div class="flex items-center space-x-2">
          <label class="text-sm font-medium text-[var(--text)]">Filtrova≈•:</label>
          <select class="px-3 py-2 border border-[var(--border)] rounded-lg bg-[var(--card)] text-[var(--text)]">
            <option value="all">V≈°etky men√°</option>
            <option value="male">Mu≈æsk√© men√°</option>
            <option value="female">≈Ωensk√© men√°</option>
          </select>
        </div>
        
        <div class="flex items-center space-x-2">
          <label class="text-sm font-medium text-[var(--text)]">Zobrazi≈•:</label>
          <select class="px-3 py-2 border border-[var(--border)] rounded-lg bg-[var(--card)] text-[var(--text)]">
            <option value="20">Top 20</option>
            <option value="50">Top 50</option>
            <option value="100">Top 100</option>
            <option value="all">V≈°etky</option>
          </select>
        </div>
      </div>
    </div>

    <!-- Popularity List -->
    <div class="card p-6 mb-12">
      <h2 class="text-2xl font-semibold text-[var(--text)] mb-6">Rebr√≠ƒçek popul√°rnych mien</h2>
      
      <div class="space-y-4">
        {popularityData.slice(0, 20).map((item, index) => (
          <div class="flex items-center justify-between p-4 border border-[var(--border)] rounded-lg hover:bg-[var(--hover)] transition-colors">
            <div class="flex items-center space-x-4">
              <div class="flex items-center justify-center w-8 h-8 bg-[var(--brand)] text-white rounded-full font-bold text-sm">
                {index + 1}
              </div>
              
              <div>
                <a 
                  href={`/sk/meno/${item.name.toLowerCase().replace(/[√°√§]/g, 'a').replace(/[ƒç]/g, 'c').replace(/[ƒè]/g, 'd').replace(/[ƒæƒ∫]/g, 'l').replace(/[≈à]/g, 'n').replace(/[√≥√¥]/g, 'o').replace(/[≈ï]/g, 'r').replace(/[≈°]/g, 's').replace(/[≈•]/g, 't').replace(/[√∫]/g, 'u').replace(/[√Ω]/g, 'y').replace(/[≈æ]/g, 'z').replace(/[^a-z0-9]/g, '-')}`}
                  class="text-lg font-semibold text-[var(--text)] hover:text-[var(--brand)] transition-colors"
                >
                  {item.name}
                </a>
                <div class="text-sm text-[var(--muted)]">
                  {item.gender} ‚Ä¢ {item.trend === 'up' ? '‚ÜóÔ∏è Rast√∫ci trend' : '‚ÜòÔ∏è Klesaj√∫ci trend'}
                </div>
              </div>
            </div>
            
            <div class="flex items-center space-x-2">
              <div class="w-16 h-2 bg-[var(--border)] rounded-full overflow-hidden">
                <div 
                  class="h-full bg-[var(--brand)] rounded-full"
                  style={`width: ${Math.max(20, 100 - index * 4)}%`}
                ></div>
              </div>
              <span class="text-sm text-[var(--muted)]">
                {Math.max(20, 100 - index * 4)}%
              </span>
            </div>
          </div>
        ))}
      </div>
    </div>

    <!-- Statistics -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
      <div class="card p-6 text-center">
        <div class="text-3xl font-bold text-[var(--brand)] mb-2">
          {popularityData.length}
        </div>
        <div class="text-[var(--muted)]">Celkovo mien</div>
      </div>
      
      <div class="card p-6 text-center">
        <div class="text-3xl font-bold text-[var(--accent)] mb-2">
          {Math.round(popularityData.filter(item => item.gender === 'mu≈æsk√©').length / popularityData.length * 100)}%
        </div>
        <div class="text-[var(--muted)]">Mu≈æsk√© men√°</div>
      </div>
      
      <div class="card p-6 text-center">
        <div class="text-3xl font-bold text-[var(--text)] mb-2">
          {Math.round(popularityData.filter(item => item.gender === '≈æensk√©').length / popularityData.length * 100)}%
        </div>
        <div class="text-[var(--muted)]">≈Ωensk√© men√°</div>
      </div>
    </div>

    <!-- SEO Content -->
    <div class="prose prose-lg max-w-4xl mx-auto text-[var(--text)] mb-12">
      <h2 class="text-2xl font-semibold mb-4">Trendy v men√°ch na Slovensku</h2>
      <p class="text-[var(--muted)] leading-relaxed">
        Men√° na Slovensku sa neust√°le vyv√≠jaj√∫ a odr√°≈æaj√∫ s√∫ƒçasn√© trendy v spoloƒçnosti. 
        Tradiƒçn√© slovensk√© men√° st√°le dominuj√∫, ale st√°le viac rodiƒçov sa rozhoduje pre 
        medzin√°rodn√© men√° alebo modern√© varianty klasick√Ωch mien.
      </p>
      
      <h3 class="text-xl font-semibold mt-8 mb-4">Najpopul√°rnej≈°ie kateg√≥rie mien</h3>
      <ul class="text-[var(--muted)] space-y-2">
        <li>‚Ä¢ <strong>Tradiƒçn√© slovensk√© men√°:</strong> J√°n, Peter, Jozef, M√°ria, Anna, Zuzana</li>
        <li>‚Ä¢ <strong>Kres≈•ansk√© men√°:</strong> Michal, Gabriel, Rafael, Angelika, Veronika</li>
        <li>‚Ä¢ <strong>Medzin√°rodn√© men√°:</strong> Alexander, Daniel, Krist√≠na, Nat√°lia</li>
        <li>‚Ä¢ <strong>Modern√© men√°:</strong> Adam, Samuel, Emma, Sofia</li>
      </ul>
    </div>

    <!-- Related Links -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
      <a href="/sk" class="card p-6 hover:scale-105 transition-transform">
        <h3 class="text-xl font-semibold text-[var(--text)] mb-2">üìÖ Dnes m√° meniny</h3>
        <p class="text-[var(--muted)]">Zistite kto m√° dnes meniny</p>
      </a>
      
      <a href="/sk/n√°vrhy-mena" class="card p-6 hover:scale-105 transition-transform">
        <h3 class="text-xl font-semibold text-[var(--text)] mb-2">üí° N√°vrhy mien</h3>
        <p class="text-[var(--muted)]">N√°jdite perfektn√© meno pre va≈°e die≈•a</p>
      </a>
      
      <a href="/sk/kalend√°r" class="card p-6 hover:scale-105 transition-transform">
        <h3 class="text-xl font-semibold text-[var(--text)] mb-2">üìÖ Kalend√°r men√≠n</h3>
        <p class="text-[var(--muted)]">Pozrite si kompletn√Ω kalend√°r men√≠n</p>
      </a>
    </div>
  </div>
</Layout>
