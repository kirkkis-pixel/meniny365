---
import Layout from '../../layouts/Layout.astro';
import { getAllNames } from '../../lib/meniny';

// Get all names for suggestions
const allNames = await getAllNames();

// Generate structured data
const structuredData = {
  "@context": "https://schema.org",
  "@type": "WebPage",
  "name": "N√°vrhy mien - n√°jdite perfektn√© meno pre va≈°e die≈•a",
  "description": "N√°jdite perfektn√© meno pre va≈°e die≈•a. Filtrujte podƒæa ≈°t√Ωlu, dƒ∫≈æky, pohlavia a ƒèal≈°√≠ch krit√©ri√≠.",
  "url": "https://meniny365.sk/sk/n√°vrhy-mena",
  "mainEntity": {
    "@type": "ItemList",
    "itemListElement": allNames.slice(0, 20).map((name, index) => ({
      "@type": "ListItem",
      "position": index + 1,
      "name": name,
      "url": `https://meniny365.sk/sk/meno/${name.toLowerCase().replace(/[√°√§]/g, 'a').replace(/[ƒç]/g, 'c').replace(/[ƒè]/g, 'd').replace(/[ƒæƒ∫]/g, 'l').replace(/[≈à]/g, 'n').replace(/[√≥√¥]/g, 'o').replace(/[≈ï]/g, 'r').replace(/[≈°]/g, 's').replace(/[≈•]/g, 't').replace(/[√∫]/g, 'u').replace(/[√Ω]/g, 'y').replace(/[≈æ]/g, 'z').replace(/[^a-z0-9]/g, '-')}`
    }))
  }
};
---

<Layout 
  title="N√°vrhy mien - n√°jdite perfektn√© meno | meniny365"
  description="N√°jdite perfektn√© meno pre va≈°e die≈•a. Filtrujte podƒæa ≈°t√Ωlu, dƒ∫≈æky, pohlavia a ƒèal≈°√≠ch krit√©ri√≠. Instantn√© v√Ωsledky a tipy."
  canonical="https://meniny365.sk/sk/n√°vrhy-mena"
  structuredData={structuredData}
>
  <div class="container py-8">
    <!-- Breadcrumbs -->
    <nav class="mb-8">
      <ol class="flex items-center space-x-2 text-sm text-[var(--muted)]">
        <li><a href="/sk" class="hover:text-[var(--brand)] transition-colors">Dnes</a></li>
        <li>/</li>
        <li class="text-[var(--text)]">N√°vrhy mien</li>
      </ol>
    </nav>

    <!-- Header -->
    <div class="text-center mb-12">
      <h1 class="text-4xl md:text-5xl font-bold text-[var(--text)] mb-4">
        N√°vrhy mien
      </h1>
      <p class="text-xl text-[var(--muted)] mb-8">
        N√°jdite perfektn√© meno pre va≈°e die≈•a
      </p>
    </div>

    <!-- Search and Filters -->
    <div class="card p-6 mb-8">
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
        <!-- Search -->
        <div>
          <label class="block text-sm font-medium text-[var(--text)] mb-2">Hƒæada≈• meno</label>
          <input 
            type="text" 
            placeholder="Zadajte meno..."
            class="w-full px-3 py-2 border border-[var(--border)] rounded-lg bg-[var(--card)] text-[var(--text)] focus:ring-2 focus:ring-[var(--brand)] focus:border-transparent"
            id="nameSearch"
          />
        </div>
        
        <!-- Gender -->
        <div>
          <label class="block text-sm font-medium text-[var(--text)] mb-2">Pohlavie</label>
          <select class="w-full px-3 py-2 border border-[var(--border)] rounded-lg bg-[var(--card)] text-[var(--text)]" id="genderFilter">
            <option value="all">V≈°etky</option>
            <option value="male">Mu≈æsk√©</option>
            <option value="female">≈Ωensk√©</option>
            <option value="unisex">Unisex</option>
          </select>
        </div>
        
        <!-- Length -->
        <div>
          <label class="block text-sm font-medium text-[var(--text)] mb-2">Dƒ∫≈æka</label>
          <select class="w-full px-3 py-2 border border-[var(--border)] rounded-lg bg-[var(--card)] text-[var(--text)]" id="lengthFilter">
            <option value="all">V≈°etky</option>
            <option value="short">Kr√°tke (‚â§4)</option>
            <option value="medium">Stredn√© (5-6)</option>
            <option value="long">Dlh√© (‚â•7)</option>
          </select>
        </div>
        
        <!-- Style -->
        <div>
          <label class="block text-sm font-medium text-[var(--text)] mb-2">≈†t√Ωl</label>
          <select class="w-full px-3 py-2 border border-[var(--border)] rounded-lg bg-[var(--card)] text-[var(--text)]" id="styleFilter">
            <option value="all">V≈°etky</option>
            <option value="traditional">Tradiƒçn√©</option>
            <option value="modern">Modern√©</option>
            <option value="international">Medzin√°rodn√©</option>
            <option value="biblical">Biblick√©</option>
          </select>
        </div>
      </div>
      
      <div class="flex justify-center mt-6">
        <button 
          class="btn btn-primary"
          onclick="filterNames()"
        >
          üîç Filtrova≈• men√°
        </button>
        <button 
          class="btn btn-secondary ml-4"
          onclick="surpriseMe()"
        >
          üé≤ Prekvap ma
        </button>
      </div>
    </div>

    <!-- Results -->
    <div class="card p-6 mb-12">
      <div class="flex justify-between items-center mb-6">
        <h2 class="text-2xl font-semibold text-[var(--text)]">V√Ωsledky</h2>
        <span class="text-sm text-[var(--muted)]" id="resultCount">
          Zobrazen√©: {allNames.length} mien
        </span>
      </div>
      
      <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3" id="nameResults">
        {allNames.slice(0, 24).map(name => (
          <a
            href={`/sk/meno/${name.toLowerCase().replace(/[√°√§]/g, 'a').replace(/[ƒç]/g, 'c').replace(/[ƒè]/g, 'd').replace(/[ƒæƒ∫]/g, 'l').replace(/[≈à]/g, 'n').replace(/[√≥√¥]/g, 'o').replace(/[≈ï]/g, 'r').replace(/[≈°]/g, 's').replace(/[≈•]/g, 't').replace(/[√∫]/g, 'u').replace(/[√Ω]/g, 'y').replace(/[≈æ]/g, 'z').replace(/[^a-z0-9]/g, '-')}`}
            class="p-3 text-center border border-[var(--border)] rounded-lg hover:bg-[var(--hover)] hover:border-[var(--brand)] transition-all"
          >
            <div class="font-medium text-[var(--text)]">{name}</div>
            <div class="text-xs text-[var(--muted)] mt-1">
              {name.length} p√≠smen
            </div>
          </a>
        ))}
      </div>
      
      <div class="text-center mt-6">
        <button 
          class="btn btn-secondary"
          onclick="loadMore()"
          id="loadMoreBtn"
        >
          Naƒç√≠ta≈• viac
        </button>
      </div>
    </div>

    <!-- Tips -->
    <div class="card p-8 mb-12">
      <h2 class="text-2xl font-semibold text-[var(--text)] mb-6">Tipy na v√Ωber mena</h2>
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <h3 class="text-lg font-semibold text-[var(--text)] mb-3">ƒåo zv√°≈æi≈• pri v√Ωbere mena</h3>
          <ul class="text-[var(--muted)] space-y-2">
            <li>‚Ä¢ <strong>V√Ωslovnos≈•:</strong> Je meno ƒæahko vysloviteƒæn√©?</li>
            <li>‚Ä¢ <strong>Prez√Ωvky:</strong> Ak√© prez√Ωvky m√¥≈æe meno vytvori≈•?</li>
            <li>‚Ä¢ <strong>Medzin√°rodnos≈•:</strong> Funguje meno v zahraniƒç√≠?</li>
            <li>‚Ä¢ <strong>Kombin√°cia:</strong> Lad√≠ s priezviskom?</li>
            <li>‚Ä¢ <strong>V√Ωznam:</strong> M√° meno pekn√Ω v√Ωznam?</li>
          </ul>
        </div>
        
        <div>
          <h3 class="text-lg font-semibold text-[var(--text)] mb-3">Popul√°rne trendy</h3>
          <ul class="text-[var(--muted)] space-y-2">
            <li>‚Ä¢ <strong>Kr√°tke men√°:</strong> Adam, Emma, Leo, Mia</li>
            <li>‚Ä¢ <strong>Klasick√© men√°:</strong> J√°n, M√°ria, Peter, Anna</li>
            <li>‚Ä¢ <strong>Medzin√°rodn√©:</strong> Alexander, Sofia, Daniel, Krist√≠na</li>
            <li>‚Ä¢ <strong>Unisex men√°:</strong> Alex, Sam, Jordan, Taylor</li>
            <li>‚Ä¢ <strong>Vintage men√°:</strong> Oliver, Charlotte, Henry, Eleanor</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- SEO Content -->
    <div class="prose prose-lg max-w-4xl mx-auto text-[var(--text)] mb-12">
      <h2 class="text-2xl font-semibold mb-4">Ako vybra≈• perfektn√© meno pre die≈•a</h2>
      <p class="text-[var(--muted)] leading-relaxed">
        V√Ωber mena pre die≈•a je jednou z najd√¥le≈æitej≈°√≠ch rozhodnut√≠, ktor√© rodiƒçia robia. 
        Meno bude sprev√°dza≈• va≈°e die≈•a cel√Ω ≈æivot, tak≈æe je d√¥le≈æit√© vybra≈• si ho s rozvahou.
      </p>
      
      <h3 class="text-xl font-semibold mt-8 mb-4">Faktory na zv√°≈æenie</h3>
      <p class="text-[var(--muted)] leading-relaxed">
        Pri v√Ωbere mena zv√°≈æte jeho v√Ωslovnos≈•, v√Ωznam, hist√≥riu a ako bude znie≈• v kombin√°cii 
        s priezviskom. D√¥le≈æit√© je aj to, ƒçi meno funguje v medzin√°rodnom prostred√≠ a ak√© 
        prez√Ωvky m√¥≈æe vytvori≈•.
      </p>
    </div>

    <!-- Related Links -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
      <a href="/sk/popul√°rne-men√°" class="card p-6 hover:scale-105 transition-transform">
        <h3 class="text-xl font-semibold text-[var(--text)] mb-2">üî• Popul√°rne men√°</h3>
        <p class="text-[var(--muted)]">Zistite ktor√© men√° s√∫ najpopul√°rnej≈°ie</p>
      </a>
      
      <a href="/sk" class="card p-6 hover:scale-105 transition-transform">
        <h3 class="text-xl font-semibold text-[var(--text)] mb-2">üìÖ Dnes m√° meniny</h3>
        <p class="text-[var(--muted)]">Zistite kto m√° dnes meniny</p>
      </a>
      
      <a href="/sk/kalend√°r" class="card p-6 hover:scale-105 transition-transform">
        <h3 class="text-xl font-semibold text-[var(--text)] mb-2">üìÖ Kalend√°r men√≠n</h3>
        <p class="text-[var(--muted)]">Pozrite si kompletn√Ω kalend√°r men√≠n</p>
      </a>
    </div>
  </div>

  <script define:vars={{ allNames }}>
    // Names data for filtering
    let currentPage = 1;
    const namesPerPage = 24;
    
    function filterNames() {
      const search = document.getElementById('nameSearch').value.toLowerCase();
      const gender = document.getElementById('genderFilter').value;
      const length = document.getElementById('lengthFilter').value;
      const style = document.getElementById('styleFilter').value;
      
      let filtered = allNames.filter(name => {
        // Search filter
        if (search && !name.toLowerCase().includes(search)) return false;
        
        // Length filter
        if (length === 'short' && name.length > 4) return false;
        if (length === 'medium' && (name.length < 5 || name.length > 6)) return false;
        if (length === 'long' && name.length < 7) return false;
        
        return true;
      });
      
      displayNames(filtered.slice(0, namesPerPage));
      document.getElementById('resultCount').textContent = `Zobrazen√©: ${filtered.length} mien`;
      currentPage = 1;
    }
    
    function displayNames(names) {
      const container = document.getElementById('nameResults');
      container.innerHTML = names.map(name => `
        <a
          href="/sk/meno/${name.toLowerCase().replace(/[√°√§]/g, 'a').replace(/[ƒç]/g, 'c').replace(/[ƒè]/g, 'd').replace(/[ƒæƒ∫]/g, 'l').replace(/[≈à]/g, 'n').replace(/[√≥√¥]/g, 'o').replace(/[≈ï]/g, 'r').replace(/[≈°]/g, 's').replace(/[≈•]/g, 't').replace(/[√∫]/g, 'u').replace(/[√Ω]/g, 'y').replace(/[≈æ]/g, 'z').replace(/[^a-z0-9]/g, '-')}"
          class="p-3 text-center border border-[var(--border)] rounded-lg hover:bg-[var(--hover)] hover:border-[var(--brand)] transition-all"
        >
          <div class="font-medium text-[var(--text)]">${name}</div>
          <div class="text-xs text-[var(--muted)] mt-1">
            ${name.length} p√≠smen
          </div>
        </a>
      `).join('');
    }
    
    function surpriseMe() {
      const randomNames = allNames.sort(() => 0.5 - Math.random()).slice(0, 12);
      displayNames(randomNames);
      document.getElementById('resultCount').textContent = `N√°hodn√©: ${randomNames.length} mien`;
    }
    
    function loadMore() {
      currentPage++;
      const start = (currentPage - 1) * namesPerPage;
      const end = start + namesPerPage;
      const moreNames = allNames.slice(start, end);
      
      if (moreNames.length === 0) {
        document.getElementById('loadMoreBtn').style.display = 'none';
        return;
      }
      
      const container = document.getElementById('nameResults');
      const newHTML = moreNames.map(name => `
        <a
          href="/sk/meno/${name.toLowerCase().replace(/[√°√§]/g, 'a').replace(/[ƒç]/g, 'c').replace(/[ƒè]/g, 'd').replace(/[ƒæƒ∫]/g, 'l').replace(/[≈à]/g, 'n').replace(/[√≥√¥]/g, 'o').replace(/[≈ï]/g, 'r').replace(/[≈°]/g, 's').replace(/[≈•]/g, 't').replace(/[√∫]/g, 'u').replace(/[√Ω]/g, 'y').replace(/[≈æ]/g, 'z').replace(/[^a-z0-9]/g, '-')}"
          class="p-3 text-center border border-[var(--border)] rounded-lg hover:bg-[var(--hover)] hover:border-[var(--brand)] transition-all"
        >
          <div class="font-medium text-[var(--text)]">${name}</div>
          <div class="text-xs text-[var(--muted)] mt-1">
            ${name.length} p√≠smen
          </div>
        </a>
      `).join('');
      
      container.innerHTML += newHTML;
    }
  </script>
</Layout>
